{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"renderIcon\", \"size\"];\n/**\n * Copyright IBM Corp. 2020\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { settings } from 'carbon-components';\nimport { OverflowMenuVertical16 } from '@carbon/icons-react';\nimport { useId } from '../../../internal/useId';\nimport Menu from '../../Menu';\nvar prefix = settings.prefix;\nvar defaultSize = 'md';\n\nfunction OverflowMenu(_ref) {\n  var children = _ref.children,\n      _ref$renderIcon = _ref.renderIcon,\n      IconElement = _ref$renderIcon === void 0 ? OverflowMenuVertical16 : _ref$renderIcon,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? defaultSize : _ref$size,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var id = useId('overflowmenu');\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState([[0, 0], [0, 0]]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      position = _useState4[0],\n      setPosition = _useState4[1];\n\n  var triggerRef = useRef(null);\n\n  function openMenu() {\n    if (triggerRef.current) {\n      var _triggerRef$current$g = triggerRef.current.getBoundingClientRect(),\n          left = _triggerRef$current$g.left,\n          top = _triggerRef$current$g.top,\n          right = _triggerRef$current$g.right,\n          bottom = _triggerRef$current$g.bottom;\n\n      setPosition([[left, right], [top, bottom]]);\n    }\n\n    setOpen(true);\n  }\n\n  function closeMenu() {\n    setOpen(false);\n  }\n\n  function handleClick() {\n    if (open) {\n      closeMenu();\n    } else {\n      openMenu();\n    }\n  }\n\n  function handleMousedown(e) {\n    // prevent default for mousedown on trigger element to avoid\n    // the \"blur\" event from firing on the menu as this would close\n    // it and immediately re-open since \"click\" event is fired after\n    // \"blur\" event.\n    e.preventDefault();\n  }\n\n  var containerClasses = classNames(\"\".concat(prefix, \"--overflow-menu__container\"));\n  var triggerClasses = classNames(\"\".concat(prefix, \"--overflow-menu\"), _defineProperty({}, \"\".concat(prefix, \"--overflow-menu--open\"), open), size !== defaultSize && \"\".concat(prefix, \"--overflow-menu--\").concat(size));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: containerClasses,\n    \"aria-owns\": id\n  }, /*#__PURE__*/React.createElement(\"button\", _extends({}, rest, {\n    type: \"button\",\n    \"aria-haspopup\": true,\n    \"aria-expanded\": open,\n    className: triggerClasses,\n    onClick: handleClick,\n    onMouseDown: handleMousedown,\n    ref: triggerRef\n  }), /*#__PURE__*/React.createElement(IconElement, null)), /*#__PURE__*/React.createElement(Menu, {\n    id: id,\n    size: size,\n    open: open,\n    onClose: closeMenu,\n    x: position[0],\n    y: position[1]\n  }, children));\n}\n\nOverflowMenu.propTypes = {\n  /**\n   * Specify the children of the OverflowMenu\n   */\n  children: PropTypes.node,\n\n  /**\n   * Function called to override icon rendering.\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\n  /**\n   * Specify the size of the menu, from a list of available sizes.\n   */\n  size: PropTypes.oneOf(['sm', 'md', 'lg'])\n};\nexport default OverflowMenu;","map":{"version":3,"sources":["/Users/danielcrow/Documents/development/cloudfoundry/capture/capture-ui/node_modules/carbon-components-react/es/components/OverflowMenu/next/OverflowMenu.js"],"names":["_extends","_defineProperty","_slicedToArray","_objectWithoutProperties","_excluded","React","useState","useRef","PropTypes","classNames","settings","OverflowMenuVertical16","useId","Menu","prefix","defaultSize","OverflowMenu","_ref","children","_ref$renderIcon","renderIcon","IconElement","_ref$size","size","rest","id","_useState","_useState2","open","setOpen","_useState3","_useState4","position","setPosition","triggerRef","openMenu","current","_triggerRef$current$g","getBoundingClientRect","left","top","right","bottom","closeMenu","handleClick","handleMousedown","e","preventDefault","containerClasses","concat","triggerClasses","createElement","className","type","onClick","onMouseDown","ref","onClose","x","y","propTypes","node","oneOfType","func","object","oneOf"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,gCAArB;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAOC,cAAP,MAA2B,sCAA3B;AACA,OAAOC,wBAAP,MAAqC,gDAArC;AACA,IAAIC,SAAS,GAAG,CAAC,UAAD,EAAa,YAAb,EAA2B,MAA3B,CAAhB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,MAA1B,QAAwC,OAAxC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,SAASC,sBAAT,QAAuC,qBAAvC;AACA,SAASC,KAAT,QAAsB,yBAAtB;AACA,OAAOC,IAAP,MAAiB,YAAjB;AACA,IAAIC,MAAM,GAAGJ,QAAQ,CAACI,MAAtB;AACA,IAAIC,WAAW,GAAG,IAAlB;;AAEA,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AAC1B,MAAIC,QAAQ,GAAGD,IAAI,CAACC,QAApB;AAAA,MACIC,eAAe,GAAGF,IAAI,CAACG,UAD3B;AAAA,MAEIC,WAAW,GAAGF,eAAe,KAAK,KAAK,CAAzB,GAA6BR,sBAA7B,GAAsDQ,eAFxE;AAAA,MAGIG,SAAS,GAAGL,IAAI,CAACM,IAHrB;AAAA,MAIIA,IAAI,GAAGD,SAAS,KAAK,KAAK,CAAnB,GAAuBP,WAAvB,GAAqCO,SAJhD;AAAA,MAKIE,IAAI,GAAGrB,wBAAwB,CAACc,IAAD,EAAOb,SAAP,CALnC;;AAOA,MAAIqB,EAAE,GAAGb,KAAK,CAAC,cAAD,CAAd;;AAEA,MAAIc,SAAS,GAAGpB,QAAQ,CAAC,KAAD,CAAxB;AAAA,MACIqB,UAAU,GAAGzB,cAAc,CAACwB,SAAD,EAAY,CAAZ,CAD/B;AAAA,MAEIE,IAAI,GAAGD,UAAU,CAAC,CAAD,CAFrB;AAAA,MAGIE,OAAO,GAAGF,UAAU,CAAC,CAAD,CAHxB;;AAKA,MAAIG,UAAU,GAAGxB,QAAQ,CAAC,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,CAAD,CAAzB;AAAA,MACIyB,UAAU,GAAG7B,cAAc,CAAC4B,UAAD,EAAa,CAAb,CAD/B;AAAA,MAEIE,QAAQ,GAAGD,UAAU,CAAC,CAAD,CAFzB;AAAA,MAGIE,WAAW,GAAGF,UAAU,CAAC,CAAD,CAH5B;;AAKA,MAAIG,UAAU,GAAG3B,MAAM,CAAC,IAAD,CAAvB;;AAEA,WAAS4B,QAAT,GAAoB;AAClB,QAAID,UAAU,CAACE,OAAf,EAAwB;AACtB,UAAIC,qBAAqB,GAAGH,UAAU,CAACE,OAAX,CAAmBE,qBAAnB,EAA5B;AAAA,UACIC,IAAI,GAAGF,qBAAqB,CAACE,IADjC;AAAA,UAEIC,GAAG,GAAGH,qBAAqB,CAACG,GAFhC;AAAA,UAGIC,KAAK,GAAGJ,qBAAqB,CAACI,KAHlC;AAAA,UAIIC,MAAM,GAAGL,qBAAqB,CAACK,MAJnC;;AAMAT,MAAAA,WAAW,CAAC,CAAC,CAACM,IAAD,EAAOE,KAAP,CAAD,EAAgB,CAACD,GAAD,EAAME,MAAN,CAAhB,CAAD,CAAX;AACD;;AAEDb,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD;;AAED,WAASc,SAAT,GAAqB;AACnBd,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD;;AAED,WAASe,WAAT,GAAuB;AACrB,QAAIhB,IAAJ,EAAU;AACRe,MAAAA,SAAS;AACV,KAFD,MAEO;AACLR,MAAAA,QAAQ;AACT;AACF;;AAED,WAASU,eAAT,CAAyBC,CAAzB,EAA4B;AAC1B;AACA;AACA;AACA;AACAA,IAAAA,CAAC,CAACC,cAAF;AACD;;AAED,MAAIC,gBAAgB,GAAGvC,UAAU,CAAC,GAAGwC,MAAH,CAAUnC,MAAV,EAAkB,4BAAlB,CAAD,CAAjC;AACA,MAAIoC,cAAc,GAAGzC,UAAU,CAAC,GAAGwC,MAAH,CAAUnC,MAAV,EAAkB,iBAAlB,CAAD,EAAuCb,eAAe,CAAC,EAAD,EAAK,GAAGgD,MAAH,CAAUnC,MAAV,EAAkB,uBAAlB,CAAL,EAAiDc,IAAjD,CAAtD,EAA8GL,IAAI,KAAKR,WAAT,IAAwB,GAAGkC,MAAH,CAAUnC,MAAV,EAAkB,mBAAlB,EAAuCmC,MAAvC,CAA8C1B,IAA9C,CAAtI,CAA/B;AACA,SAAO,aAAalB,KAAK,CAAC8C,aAAN,CAAoB,KAApB,EAA2B;AAC7CC,IAAAA,SAAS,EAAEJ,gBADkC;AAE7C,iBAAavB;AAFgC,GAA3B,EAGjB,aAAapB,KAAK,CAAC8C,aAAN,CAAoB,QAApB,EAA8BnD,QAAQ,CAAC,EAAD,EAAKwB,IAAL,EAAW;AAC/D6B,IAAAA,IAAI,EAAE,QADyD;AAE/D,qBAAiB,IAF8C;AAG/D,qBAAiBzB,IAH8C;AAI/DwB,IAAAA,SAAS,EAAEF,cAJoD;AAK/DI,IAAAA,OAAO,EAAEV,WALsD;AAM/DW,IAAAA,WAAW,EAAEV,eANkD;AAO/DW,IAAAA,GAAG,EAAEtB;AAP0D,GAAX,CAAtC,EAQZ,aAAa7B,KAAK,CAAC8C,aAAN,CAAoB9B,WAApB,EAAiC,IAAjC,CARD,CAHI,EAWsC,aAAahB,KAAK,CAAC8C,aAAN,CAAoBtC,IAApB,EAA0B;AAC/FY,IAAAA,EAAE,EAAEA,EAD2F;AAE/FF,IAAAA,IAAI,EAAEA,IAFyF;AAG/FK,IAAAA,IAAI,EAAEA,IAHyF;AAI/F6B,IAAAA,OAAO,EAAEd,SAJsF;AAK/Fe,IAAAA,CAAC,EAAE1B,QAAQ,CAAC,CAAD,CALoF;AAM/F2B,IAAAA,CAAC,EAAE3B,QAAQ,CAAC,CAAD;AANoF,GAA1B,EAOpEd,QAPoE,CAXnD,CAApB;AAmBD;;AAEDF,YAAY,CAAC4C,SAAb,GAAyB;AACvB;AACF;AACA;AACE1C,EAAAA,QAAQ,EAAEV,SAAS,CAACqD,IAJG;;AAMvB;AACF;AACA;AACEzC,EAAAA,UAAU,EAAEZ,SAAS,CAACsD,SAAV,CAAoB,CAACtD,SAAS,CAACuD,IAAX,EAAiBvD,SAAS,CAACwD,MAA3B,CAApB,CATW;;AAWvB;AACF;AACA;AACEzC,EAAAA,IAAI,EAAEf,SAAS,CAACyD,KAAV,CAAgB,CAAC,IAAD,EAAO,IAAP,EAAa,IAAb,CAAhB;AAdiB,CAAzB;AAgBA,eAAejD,YAAf","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"renderIcon\", \"size\"];\n\n/**\n * Copyright IBM Corp. 2020\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { useState, useRef } from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { settings } from 'carbon-components';\nimport { OverflowMenuVertical16 } from '@carbon/icons-react';\nimport { useId } from '../../../internal/useId';\nimport Menu from '../../Menu';\nvar prefix = settings.prefix;\nvar defaultSize = 'md';\n\nfunction OverflowMenu(_ref) {\n  var children = _ref.children,\n      _ref$renderIcon = _ref.renderIcon,\n      IconElement = _ref$renderIcon === void 0 ? OverflowMenuVertical16 : _ref$renderIcon,\n      _ref$size = _ref.size,\n      size = _ref$size === void 0 ? defaultSize : _ref$size,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var id = useId('overflowmenu');\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      open = _useState2[0],\n      setOpen = _useState2[1];\n\n  var _useState3 = useState([[0, 0], [0, 0]]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      position = _useState4[0],\n      setPosition = _useState4[1];\n\n  var triggerRef = useRef(null);\n\n  function openMenu() {\n    if (triggerRef.current) {\n      var _triggerRef$current$g = triggerRef.current.getBoundingClientRect(),\n          left = _triggerRef$current$g.left,\n          top = _triggerRef$current$g.top,\n          right = _triggerRef$current$g.right,\n          bottom = _triggerRef$current$g.bottom;\n\n      setPosition([[left, right], [top, bottom]]);\n    }\n\n    setOpen(true);\n  }\n\n  function closeMenu() {\n    setOpen(false);\n  }\n\n  function handleClick() {\n    if (open) {\n      closeMenu();\n    } else {\n      openMenu();\n    }\n  }\n\n  function handleMousedown(e) {\n    // prevent default for mousedown on trigger element to avoid\n    // the \"blur\" event from firing on the menu as this would close\n    // it and immediately re-open since \"click\" event is fired after\n    // \"blur\" event.\n    e.preventDefault();\n  }\n\n  var containerClasses = classNames(\"\".concat(prefix, \"--overflow-menu__container\"));\n  var triggerClasses = classNames(\"\".concat(prefix, \"--overflow-menu\"), _defineProperty({}, \"\".concat(prefix, \"--overflow-menu--open\"), open), size !== defaultSize && \"\".concat(prefix, \"--overflow-menu--\").concat(size));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: containerClasses,\n    \"aria-owns\": id\n  }, /*#__PURE__*/React.createElement(\"button\", _extends({}, rest, {\n    type: \"button\",\n    \"aria-haspopup\": true,\n    \"aria-expanded\": open,\n    className: triggerClasses,\n    onClick: handleClick,\n    onMouseDown: handleMousedown,\n    ref: triggerRef\n  }), /*#__PURE__*/React.createElement(IconElement, null)), /*#__PURE__*/React.createElement(Menu, {\n    id: id,\n    size: size,\n    open: open,\n    onClose: closeMenu,\n    x: position[0],\n    y: position[1]\n  }, children));\n}\n\nOverflowMenu.propTypes = {\n  /**\n   * Specify the children of the OverflowMenu\n   */\n  children: PropTypes.node,\n\n  /**\n   * Function called to override icon rendering.\n   */\n  renderIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\n  /**\n   * Specify the size of the menu, from a list of available sizes.\n   */\n  size: PropTypes.oneOf(['sm', 'md', 'lg'])\n};\nexport default OverflowMenu;"]},"metadata":{},"sourceType":"module"}