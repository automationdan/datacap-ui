{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"iconDescription\", \"buttonLabel\", \"buttonKind\", \"filenameStatus\", \"labelDescription\", \"labelTitle\", \"className\", \"multiple\", \"accept\", \"name\", \"size\", \"onDelete\"];\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport * as FeatureFlags from '@carbon/feature-flags';\nimport React from 'react';\nimport Filename from './Filename';\nimport FileUploaderButton from './FileUploaderButton';\nimport { ButtonKinds } from '../../prop-types/types';\nimport { keys, matches } from '../../internal/keyboard';\nimport { PrefixContext } from '../../internal/usePrefix';\n\nvar FileUploader = /*#__PURE__*/function (_React$Component) {\n  _inherits(FileUploader, _React$Component);\n\n  var _super = _createSuper(FileUploader);\n\n  function FileUploader() {\n    var _this;\n\n    _classCallCheck(this, FileUploader);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      filenames: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"nodes\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (evt) {\n      evt.stopPropagation();\n      var filenames = Array.prototype.map.call(evt.target.files, function (file) {\n        return file.name;\n      });\n\n      _this.setState({\n        filenames: _this.props.multiple ? _this.state.filenames.concat(filenames) : filenames\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(evt);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (evt, _ref) {\n      var index = _ref.index,\n          filenameStatus = _ref.filenameStatus;\n\n      if (filenameStatus === 'edit') {\n        evt.stopPropagation();\n\n        var filteredArray = _this.state.filenames.filter(function (filename) {\n          return filename !== _this.nodes[index].innerText.trim();\n        });\n\n        _this.setState({\n          filenames: filteredArray\n        });\n\n        if (_this.props.onDelete) {\n          _this.props.onDelete(evt);\n        }\n\n        _this.props.onClick(evt);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearFiles\", function () {\n      // A clearFiles function that resets filenames and can be referenced using a ref by the parent.\n      _this.setState({\n        filenames: []\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(FileUploader, [{\n    key: \"render\",\n    value: function render() {\n      var _classNames,\n          _classNames2,\n          _this2 = this;\n\n      var _this$props = this.props,\n          iconDescription = _this$props.iconDescription,\n          buttonLabel = _this$props.buttonLabel,\n          buttonKind = _this$props.buttonKind,\n          filenameStatus = _this$props.filenameStatus,\n          labelDescription = _this$props.labelDescription,\n          labelTitle = _this$props.labelTitle,\n          className = _this$props.className,\n          multiple = _this$props.multiple,\n          accept = _this$props.accept,\n          name = _this$props.name,\n          size = _this$props.size,\n          onDelete = _this$props.onDelete,\n          other = _objectWithoutProperties(_this$props, _excluded);\n\n      var prefix = this.context;\n      var classes = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefix, \"--form-item\"), true), _defineProperty(_classNames, className, className), _classNames));\n      var selectedFileClasses = classNames(\"\".concat(prefix, \"--file__selected-file\"), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefix, \"--file__selected-file--md\"), size === 'field' || size === 'md'), _defineProperty(_classNames2, \"\".concat(prefix, \"--file__selected-file--sm\"), size === 'small' || size === 'sm'), _classNames2));\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: classes\n      }, other), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"\".concat(prefix, \"--file--label\")\n      }, labelTitle), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"\".concat(prefix, \"--label-description\")\n      }, labelDescription), /*#__PURE__*/React.createElement(FileUploaderButton, {\n        labelText: buttonLabel,\n        multiple: multiple,\n        buttonKind: buttonKind,\n        onChange: this.handleChange,\n        disableLabelChanges: true,\n        accept: accept,\n        name: name,\n        size: size\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefix, \"--file-container\")\n      }, this.state.filenames.length === 0 ? null : this.state.filenames.map(function (name, index) {\n        return /*#__PURE__*/React.createElement(\"span\", _extends({\n          key: index,\n          className: selectedFileClasses,\n          ref: function ref(node) {\n            return _this2.nodes[index] = node;\n          } // eslint-disable-line\n\n        }, other), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"\".concat(prefix, \"--file-filename\")\n        }, name), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"\".concat(prefix, \"--file__state-container\")\n        }, /*#__PURE__*/React.createElement(Filename, {\n          iconDescription: iconDescription,\n          status: filenameStatus,\n          onKeyDown: function onKeyDown(evt) {\n            if (matches(evt, [keys.Enter, keys.Space])) {\n              _this2.handleClick(evt, {\n                index: index,\n                filenameStatus: filenameStatus\n              });\n            }\n          },\n          onClick: function onClick(evt) {\n            return _this2.handleClick(evt, {\n              index: index,\n              filenameStatus: filenameStatus\n            });\n          }\n        })));\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(_ref2, state) {\n      var filenameStatus = _ref2.filenameStatus;\n      var prevFilenameStatus = state.prevFilenameStatus;\n      return prevFilenameStatus === filenameStatus ? null : {\n        filenameStatus: filenameStatus,\n        prevFilenameStatus: filenameStatus\n      };\n    }\n  }]);\n\n  return FileUploader;\n}(React.Component);\n\n_defineProperty(FileUploader, \"propTypes\", {\n  /**\n   * Specify the types of files that this input should be able to receive\n   */\n  accept: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n   * Specify the type of the <FileUploaderButton>\n   */\n  buttonKind: PropTypes.oneOf(ButtonKinds),\n\n  /**\n   * Provide the label text to be read by screen readers when interacting with\n   * the <FileUploaderButton>\n   */\n  buttonLabel: PropTypes.string,\n\n  /**\n   * Provide a custom className to be applied to the container node\n   */\n  className: PropTypes.string,\n\n  /**\n   * Specify the status of the File Upload\n   */\n  filenameStatus: PropTypes.oneOf(['edit', 'complete', 'uploading']).isRequired,\n\n  /**\n   * Provide a description for the complete/close icon that can be read by screen readers\n   */\n  iconDescription: FeatureFlags.enabled('enable-v11-release') ? PropTypes.string.isRequired : PropTypes.string,\n\n  /**\n   * Specify the description text of this <FileUploader>\n   */\n  labelDescription: PropTypes.string,\n\n  /**\n   * Specify the title text of this <FileUploader>\n   */\n  labelTitle: PropTypes.string,\n\n  /**\n   * Specify if the component should accept multiple files to upload\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * Provide a name for the underlying `<input>` node\n   */\n  name: PropTypes.string,\n\n  /**\n   * Provide an optional `onChange` hook that is called each time the input is\n   * changed\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Provide an optional `onClick` hook that is called each time the\n   * FileUploader is clicked\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Provide an optional `onDelete` hook that is called when an uploaded item\n   * is removed\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * Specify the size of the FileUploaderButton, from a list of available\n   * sizes. For `default` buttons, this prop can remain unspecified.\n   * V11: `default`, `field`, and `small` will be removed\n   */\n  size: PropTypes.oneOf(['default', 'field', 'small', 'sm', 'md', 'lg'])\n});\n\n_defineProperty(FileUploader, \"contextType\", PrefixContext);\n\n_defineProperty(FileUploader, \"defaultProps\", {\n  iconDescription: FeatureFlags.enabled('enable-v11-release') ? undefined : 'Provide icon description',\n  filenameStatus: 'uploading',\n  buttonLabel: '',\n  buttonKind: 'primary',\n  multiple: false,\n  onClick: function onClick() {},\n  accept: []\n});\n\nexport { FileUploader as default };","map":{"version":3,"sources":["/Users/danielcrow/Documents/development/cloudfoundry/datacap-ui/node_modules/carbon-components-react/es/components/FileUploader/FileUploader.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_excluded","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","classNames","PropTypes","FeatureFlags","React","Filename","FileUploaderButton","ButtonKinds","keys","matches","PrefixContext","FileUploader","_React$Component","_super","_this","_len","length","args","Array","_key","concat","filenames","evt","stopPropagation","map","target","files","file","name","setState","props","multiple","state","onChange","_ref","index","filenameStatus","filteredArray","filter","filename","nodes","innerText","trim","onDelete","onClick","key","value","render","_classNames","_classNames2","_this2","_this$props","iconDescription","buttonLabel","buttonKind","labelDescription","labelTitle","className","accept","size","other","prefix","context","classes","selectedFileClasses","createElement","labelText","handleChange","disableLabelChanges","ref","node","status","onKeyDown","Enter","Space","handleClick","getDerivedStateFromProps","_ref2","prevFilenameStatus","Component","arrayOf","string","oneOf","isRequired","enabled","bool","func","undefined","default"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,gCAArB;AACA,OAAOC,wBAAP,MAAqC,gDAArC;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,sBAAP,MAAmC,8CAAnC;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,OAAOC,0BAAP,MAAuC,kDAAvC;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,IAAIC,SAAS,GAAG,CAAC,iBAAD,EAAoB,aAApB,EAAmC,YAAnC,EAAiD,gBAAjD,EAAmE,kBAAnE,EAAuF,YAAvF,EAAqG,WAArG,EAAkH,UAAlH,EAA8H,QAA9H,EAAwI,MAAxI,EAAgJ,MAAhJ,EAAwJ,UAAxJ,CAAhB;;AAEA,SAASC,YAAT,CAAsBC,OAAtB,EAA+B;AAAE,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAA6D,SAAO,SAASC,oBAAT,GAAgC;AAAE,QAAIC,KAAK,GAAGR,eAAe,CAACI,OAAD,CAA3B;AAAA,QAAsCK,MAAtC;;AAA8C,QAAIJ,yBAAJ,EAA+B;AAAE,UAAIK,SAAS,GAAGV,eAAe,CAAC,IAAD,CAAf,CAAsBW,WAAtC;;AAAmDF,MAAAA,MAAM,GAAGG,OAAO,CAACC,SAAR,CAAkBL,KAAlB,EAAyBM,SAAzB,EAAoCJ,SAApC,CAAT;AAA0D,KAA9I,MAAoJ;AAAED,MAAAA,MAAM,GAAGD,KAAK,CAACO,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;AAAwC;;AAAC,WAAOf,0BAA0B,CAAC,IAAD,EAAOU,MAAP,CAAjC;AAAkD,GAAxU;AAA2U;;AAEza,SAASH,yBAAT,GAAqC;AAAE,MAAI,OAAOM,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;AAAc,MAAID,OAAO,CAACC,SAAR,CAAkBG,IAAtB,EAA4B,OAAO,KAAP;AAAc,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAAa,MAAI;AAAEC,IAAAA,OAAO,CAACC,SAAR,CAAkBC,OAAlB,CAA0BC,IAA1B,CAA+BT,OAAO,CAACC,SAAR,CAAkBK,OAAlB,EAA2B,EAA3B,EAA+B,YAAY,CAAE,CAA7C,CAA/B;AAAgF,WAAO,IAAP;AAAc,GAApG,CAAqG,OAAOI,CAAP,EAAU;AAAE,WAAO,KAAP;AAAe;AAAE;AAEzU;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,OAAO,KAAKC,YAAZ,MAA8B,uBAA9B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,SAASC,WAAT,QAA4B,wBAA5B;AACA,SAASC,IAAT,EAAeC,OAAf,QAA8B,yBAA9B;AACA,SAASC,aAAT,QAA8B,0BAA9B;;AAEA,IAAIC,YAAY,GAAG,aAAa,UAAUC,gBAAV,EAA4B;AAC1DpC,EAAAA,SAAS,CAACmC,YAAD,EAAeC,gBAAf,CAAT;;AAEA,MAAIC,MAAM,GAAGhC,YAAY,CAAC8B,YAAD,CAAzB;;AAEA,WAASA,YAAT,GAAwB;AACtB,QAAIG,KAAJ;;AAEAzC,IAAAA,eAAe,CAAC,IAAD,EAAOsC,YAAP,CAAf;;AAEA,SAAK,IAAII,IAAI,GAAGvB,SAAS,CAACwB,MAArB,EAA6BC,IAAI,GAAG,IAAIC,KAAJ,CAAUH,IAAV,CAApC,EAAqDI,IAAI,GAAG,CAAjE,EAAoEA,IAAI,GAAGJ,IAA3E,EAAiFI,IAAI,EAArF,EAAyF;AACvFF,MAAAA,IAAI,CAACE,IAAD,CAAJ,GAAa3B,SAAS,CAAC2B,IAAD,CAAtB;AACD;;AAEDL,IAAAA,KAAK,GAAGD,MAAM,CAACd,IAAP,CAAYN,KAAZ,CAAkBoB,MAAlB,EAA0B,CAAC,IAAD,EAAOO,MAAP,CAAcH,IAAd,CAA1B,CAAR;;AAEAtC,IAAAA,eAAe,CAACJ,sBAAsB,CAACuC,KAAD,CAAvB,EAAgC,OAAhC,EAAyC;AACtDO,MAAAA,SAAS,EAAE;AAD2C,KAAzC,CAAf;;AAIA1C,IAAAA,eAAe,CAACJ,sBAAsB,CAACuC,KAAD,CAAvB,EAAgC,OAAhC,EAAyC,EAAzC,CAAf;;AAEAnC,IAAAA,eAAe,CAACJ,sBAAsB,CAACuC,KAAD,CAAvB,EAAgC,cAAhC,EAAgD,UAAUQ,GAAV,EAAe;AAC5EA,MAAAA,GAAG,CAACC,eAAJ;AACA,UAAIF,SAAS,GAAGH,KAAK,CAACrB,SAAN,CAAgB2B,GAAhB,CAAoBzB,IAApB,CAAyBuB,GAAG,CAACG,MAAJ,CAAWC,KAApC,EAA2C,UAAUC,IAAV,EAAgB;AACzE,eAAOA,IAAI,CAACC,IAAZ;AACD,OAFe,CAAhB;;AAIAd,MAAAA,KAAK,CAACe,QAAN,CAAe;AACbR,QAAAA,SAAS,EAAEP,KAAK,CAACgB,KAAN,CAAYC,QAAZ,GAAuBjB,KAAK,CAACkB,KAAN,CAAYX,SAAZ,CAAsBD,MAAtB,CAA6BC,SAA7B,CAAvB,GAAiEA;AAD/D,OAAf;;AAIA,UAAIP,KAAK,CAACgB,KAAN,CAAYG,QAAhB,EAA0B;AACxBnB,QAAAA,KAAK,CAACgB,KAAN,CAAYG,QAAZ,CAAqBX,GAArB;AACD;AACF,KAbc,CAAf;;AAeA3C,IAAAA,eAAe,CAACJ,sBAAsB,CAACuC,KAAD,CAAvB,EAAgC,aAAhC,EAA+C,UAAUQ,GAAV,EAAeY,IAAf,EAAqB;AACjF,UAAIC,KAAK,GAAGD,IAAI,CAACC,KAAjB;AAAA,UACIC,cAAc,GAAGF,IAAI,CAACE,cAD1B;;AAGA,UAAIA,cAAc,KAAK,MAAvB,EAA+B;AAC7Bd,QAAAA,GAAG,CAACC,eAAJ;;AAEA,YAAIc,aAAa,GAAGvB,KAAK,CAACkB,KAAN,CAAYX,SAAZ,CAAsBiB,MAAtB,CAA6B,UAAUC,QAAV,EAAoB;AACnE,iBAAOA,QAAQ,KAAKzB,KAAK,CAAC0B,KAAN,CAAYL,KAAZ,EAAmBM,SAAnB,CAA6BC,IAA7B,EAApB;AACD,SAFmB,CAApB;;AAIA5B,QAAAA,KAAK,CAACe,QAAN,CAAe;AACbR,UAAAA,SAAS,EAAEgB;AADE,SAAf;;AAIA,YAAIvB,KAAK,CAACgB,KAAN,CAAYa,QAAhB,EAA0B;AACxB7B,UAAAA,KAAK,CAACgB,KAAN,CAAYa,QAAZ,CAAqBrB,GAArB;AACD;;AAEDR,QAAAA,KAAK,CAACgB,KAAN,CAAYc,OAAZ,CAAoBtB,GAApB;AACD;AACF,KArBc,CAAf;;AAuBA3C,IAAAA,eAAe,CAACJ,sBAAsB,CAACuC,KAAD,CAAvB,EAAgC,YAAhC,EAA8C,YAAY;AACvE;AACAA,MAAAA,KAAK,CAACe,QAAN,CAAe;AACbR,QAAAA,SAAS,EAAE;AADE,OAAf;AAGD,KALc,CAAf;;AAOA,WAAOP,KAAP;AACD;;AAEDxC,EAAAA,YAAY,CAACqC,YAAD,EAAe,CAAC;AAC1BkC,IAAAA,GAAG,EAAE,QADqB;AAE1BC,IAAAA,KAAK,EAAE,SAASC,MAAT,GAAkB;AACvB,UAAIC,WAAJ;AAAA,UACIC,YADJ;AAAA,UAEIC,MAAM,GAAG,IAFb;;AAIA,UAAIC,WAAW,GAAG,KAAKrB,KAAvB;AAAA,UACIsB,eAAe,GAAGD,WAAW,CAACC,eADlC;AAAA,UAEIC,WAAW,GAAGF,WAAW,CAACE,WAF9B;AAAA,UAGIC,UAAU,GAAGH,WAAW,CAACG,UAH7B;AAAA,UAIIlB,cAAc,GAAGe,WAAW,CAACf,cAJjC;AAAA,UAKImB,gBAAgB,GAAGJ,WAAW,CAACI,gBALnC;AAAA,UAMIC,UAAU,GAAGL,WAAW,CAACK,UAN7B;AAAA,UAOIC,SAAS,GAAGN,WAAW,CAACM,SAP5B;AAAA,UAQI1B,QAAQ,GAAGoB,WAAW,CAACpB,QAR3B;AAAA,UASI2B,MAAM,GAAGP,WAAW,CAACO,MATzB;AAAA,UAUI9B,IAAI,GAAGuB,WAAW,CAACvB,IAVvB;AAAA,UAWI+B,IAAI,GAAGR,WAAW,CAACQ,IAXvB;AAAA,UAYIhB,QAAQ,GAAGQ,WAAW,CAACR,QAZ3B;AAAA,UAaIiB,KAAK,GAAGxF,wBAAwB,CAAC+E,WAAD,EAAcvE,SAAd,CAbpC;;AAeA,UAAIiF,MAAM,GAAG,KAAKC,OAAlB;AACA,UAAIC,OAAO,GAAG9D,UAAU,EAAE+C,WAAW,GAAG,EAAd,EAAkBrE,eAAe,CAACqE,WAAD,EAAc,GAAG5B,MAAH,CAAUyC,MAAV,EAAkB,aAAlB,CAAd,EAAgD,IAAhD,CAAjC,EAAwFlF,eAAe,CAACqE,WAAD,EAAcS,SAAd,EAAyBA,SAAzB,CAAvG,EAA4IT,WAA9I,EAAxB;AACA,UAAIgB,mBAAmB,GAAG/D,UAAU,CAAC,GAAGmB,MAAH,CAAUyC,MAAV,EAAkB,uBAAlB,CAAD,GAA8CZ,YAAY,GAAG,EAAf,EAAmBtE,eAAe,CAACsE,YAAD,EAAe,GAAG7B,MAAH,CAAUyC,MAAV,EAAkB,2BAAlB,CAAf,EAA+DF,IAAI,KAAK,OAAT,IAAoBA,IAAI,KAAK,IAA5F,CAAlC,EAAqIhF,eAAe,CAACsE,YAAD,EAAe,GAAG7B,MAAH,CAAUyC,MAAV,EAAkB,2BAAlB,CAAf,EAA+DF,IAAI,KAAK,OAAT,IAAoBA,IAAI,KAAK,IAA5F,CAApJ,EAAuPV,YAArS,EAApC;AACA,aAAO,aAAa7C,KAAK,CAAC6D,aAAN,CAAoB,KAApB,EAA2B9F,QAAQ,CAAC;AACtDsF,QAAAA,SAAS,EAAEM;AAD2C,OAAD,EAEpDH,KAFoD,CAAnC,EAET,aAAaxD,KAAK,CAAC6D,aAAN,CAAoB,GAApB,EAAyB;AAC/CR,QAAAA,SAAS,EAAE,GAAGrC,MAAH,CAAUyC,MAAV,EAAkB,eAAlB;AADoC,OAAzB,EAErBL,UAFqB,CAFJ,EAIJ,aAAapD,KAAK,CAAC6D,aAAN,CAAoB,GAApB,EAAyB;AACpDR,QAAAA,SAAS,EAAE,GAAGrC,MAAH,CAAUyC,MAAV,EAAkB,qBAAlB;AADyC,OAAzB,EAE1BN,gBAF0B,CAJT,EAME,aAAanD,KAAK,CAAC6D,aAAN,CAAoB3D,kBAApB,EAAwC;AACzE4D,QAAAA,SAAS,EAAEb,WAD8D;AAEzEtB,QAAAA,QAAQ,EAAEA,QAF+D;AAGzEuB,QAAAA,UAAU,EAAEA,UAH6D;AAIzErB,QAAAA,QAAQ,EAAE,KAAKkC,YAJ0D;AAKzEC,QAAAA,mBAAmB,EAAE,IALoD;AAMzEV,QAAAA,MAAM,EAAEA,MANiE;AAOzE9B,QAAAA,IAAI,EAAEA,IAPmE;AAQzE+B,QAAAA,IAAI,EAAEA;AARmE,OAAxC,CANf,EAehB,aAAavD,KAAK,CAAC6D,aAAN,CAAoB,KAApB,EAA2B;AAC1CR,QAAAA,SAAS,EAAE,GAAGrC,MAAH,CAAUyC,MAAV,EAAkB,kBAAlB;AAD+B,OAA3B,EAEd,KAAK7B,KAAL,CAAWX,SAAX,CAAqBL,MAArB,KAAgC,CAAhC,GAAoC,IAApC,GAA2C,KAAKgB,KAAL,CAAWX,SAAX,CAAqBG,GAArB,CAAyB,UAAUI,IAAV,EAAgBO,KAAhB,EAAuB;AAC5F,eAAO,aAAa/B,KAAK,CAAC6D,aAAN,CAAoB,MAApB,EAA4B9F,QAAQ,CAAC;AACvD0E,UAAAA,GAAG,EAAEV,KADkD;AAEvDsB,UAAAA,SAAS,EAAEO,mBAF4C;AAGvDK,UAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,IAAb,EAAmB;AACtB,mBAAOpB,MAAM,CAACV,KAAP,CAAaL,KAAb,IAAsBmC,IAA7B;AACD,WALsD,CAKrD;;AALqD,SAAD,EAOrDV,KAPqD,CAApC,EAOT,aAAaxD,KAAK,CAAC6D,aAAN,CAAoB,GAApB,EAAyB;AAC/CR,UAAAA,SAAS,EAAE,GAAGrC,MAAH,CAAUyC,MAAV,EAAkB,iBAAlB;AADoC,SAAzB,EAErBjC,IAFqB,CAPJ,EASV,aAAaxB,KAAK,CAAC6D,aAAN,CAAoB,MAApB,EAA4B;AACjDR,UAAAA,SAAS,EAAE,GAAGrC,MAAH,CAAUyC,MAAV,EAAkB,yBAAlB;AADsC,SAA5B,EAEpB,aAAazD,KAAK,CAAC6D,aAAN,CAAoB5D,QAApB,EAA8B;AAC5C+C,UAAAA,eAAe,EAAEA,eAD2B;AAE5CmB,UAAAA,MAAM,EAAEnC,cAFoC;AAG5CoC,UAAAA,SAAS,EAAE,SAASA,SAAT,CAAmBlD,GAAnB,EAAwB;AACjC,gBAAIb,OAAO,CAACa,GAAD,EAAM,CAACd,IAAI,CAACiE,KAAN,EAAajE,IAAI,CAACkE,KAAlB,CAAN,CAAX,EAA4C;AAC1CxB,cAAAA,MAAM,CAACyB,WAAP,CAAmBrD,GAAnB,EAAwB;AACtBa,gBAAAA,KAAK,EAAEA,KADe;AAEtBC,gBAAAA,cAAc,EAAEA;AAFM,eAAxB;AAID;AACF,WAV2C;AAW5CQ,UAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBtB,GAAjB,EAAsB;AAC7B,mBAAO4B,MAAM,CAACyB,WAAP,CAAmBrD,GAAnB,EAAwB;AAC7Ba,cAAAA,KAAK,EAAEA,KADsB;AAE7BC,cAAAA,cAAc,EAAEA;AAFa,aAAxB,CAAP;AAID;AAhB2C,SAA9B,CAFO,CATH,CAApB;AA6BD,OA9B6C,CAF7B,CAfG,CAApB;AAgDD;AAzEyB,GAAD,CAAf,EA0ER,CAAC;AACHS,IAAAA,GAAG,EAAE,0BADF;AAEHC,IAAAA,KAAK,EAAE,SAAS8B,wBAAT,CAAkCC,KAAlC,EAAyC7C,KAAzC,EAAgD;AACrD,UAAII,cAAc,GAAGyC,KAAK,CAACzC,cAA3B;AACA,UAAI0C,kBAAkB,GAAG9C,KAAK,CAAC8C,kBAA/B;AACA,aAAOA,kBAAkB,KAAK1C,cAAvB,GAAwC,IAAxC,GAA+C;AACpDA,QAAAA,cAAc,EAAEA,cADoC;AAEpD0C,QAAAA,kBAAkB,EAAE1C;AAFgC,OAAtD;AAID;AATE,GAAD,CA1EQ,CAAZ;;AAsFA,SAAOzB,YAAP;AACD,CA7J+B,CA6J9BP,KAAK,CAAC2E,SA7JwB,CAAhC;;AA+JApG,eAAe,CAACgC,YAAD,EAAe,WAAf,EAA4B;AACzC;AACF;AACA;AACE+C,EAAAA,MAAM,EAAExD,SAAS,CAAC8E,OAAV,CAAkB9E,SAAS,CAAC+E,MAA5B,CAJiC;;AAMzC;AACF;AACA;AACE3B,EAAAA,UAAU,EAAEpD,SAAS,CAACgF,KAAV,CAAgB3E,WAAhB,CAT6B;;AAWzC;AACF;AACA;AACA;AACE8C,EAAAA,WAAW,EAAEnD,SAAS,CAAC+E,MAfkB;;AAiBzC;AACF;AACA;AACExB,EAAAA,SAAS,EAAEvD,SAAS,CAAC+E,MApBoB;;AAsBzC;AACF;AACA;AACE7C,EAAAA,cAAc,EAAElC,SAAS,CAACgF,KAAV,CAAgB,CAAC,MAAD,EAAS,UAAT,EAAqB,WAArB,CAAhB,EAAmDC,UAzB1B;;AA2BzC;AACF;AACA;AACE/B,EAAAA,eAAe,EAAEjD,YAAY,CAACiF,OAAb,CAAqB,oBAArB,IAA6ClF,SAAS,CAAC+E,MAAV,CAAiBE,UAA9D,GAA2EjF,SAAS,CAAC+E,MA9B7D;;AAgCzC;AACF;AACA;AACE1B,EAAAA,gBAAgB,EAAErD,SAAS,CAAC+E,MAnCa;;AAqCzC;AACF;AACA;AACEzB,EAAAA,UAAU,EAAEtD,SAAS,CAAC+E,MAxCmB;;AA0CzC;AACF;AACA;AACElD,EAAAA,QAAQ,EAAE7B,SAAS,CAACmF,IA7CqB;;AA+CzC;AACF;AACA;AACEzD,EAAAA,IAAI,EAAE1B,SAAS,CAAC+E,MAlDyB;;AAoDzC;AACF;AACA;AACA;AACEhD,EAAAA,QAAQ,EAAE/B,SAAS,CAACoF,IAxDqB;;AA0DzC;AACF;AACA;AACA;AACE1C,EAAAA,OAAO,EAAE1C,SAAS,CAACoF,IA9DsB;;AAgEzC;AACF;AACA;AACA;AACE3C,EAAAA,QAAQ,EAAEzC,SAAS,CAACoF,IApEqB;;AAsEzC;AACF;AACA;AACA;AACA;AACE3B,EAAAA,IAAI,EAAEzD,SAAS,CAACgF,KAAV,CAAgB,CAAC,SAAD,EAAY,OAAZ,EAAqB,OAArB,EAA8B,IAA9B,EAAoC,IAApC,EAA0C,IAA1C,CAAhB;AA3EmC,CAA5B,CAAf;;AA8EAvG,eAAe,CAACgC,YAAD,EAAe,aAAf,EAA8BD,aAA9B,CAAf;;AAEA/B,eAAe,CAACgC,YAAD,EAAe,cAAf,EAA+B;AAC5CyC,EAAAA,eAAe,EAAEjD,YAAY,CAACiF,OAAb,CAAqB,oBAArB,IAA6CG,SAA7C,GAAyD,0BAD9B;AAE5CnD,EAAAA,cAAc,EAAE,WAF4B;AAG5CiB,EAAAA,WAAW,EAAE,EAH+B;AAI5CC,EAAAA,UAAU,EAAE,SAJgC;AAK5CvB,EAAAA,QAAQ,EAAE,KALkC;AAM5Ca,EAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB,CAAE,CANc;AAO5Cc,EAAAA,MAAM,EAAE;AAPoC,CAA/B,CAAf;;AAUA,SAAS/C,YAAY,IAAI6E,OAAzB","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"iconDescription\", \"buttonLabel\", \"buttonKind\", \"filenameStatus\", \"labelDescription\", \"labelTitle\", \"className\", \"multiple\", \"accept\", \"name\", \"size\", \"onDelete\"];\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport * as FeatureFlags from '@carbon/feature-flags';\nimport React from 'react';\nimport Filename from './Filename';\nimport FileUploaderButton from './FileUploaderButton';\nimport { ButtonKinds } from '../../prop-types/types';\nimport { keys, matches } from '../../internal/keyboard';\nimport { PrefixContext } from '../../internal/usePrefix';\n\nvar FileUploader = /*#__PURE__*/function (_React$Component) {\n  _inherits(FileUploader, _React$Component);\n\n  var _super = _createSuper(FileUploader);\n\n  function FileUploader() {\n    var _this;\n\n    _classCallCheck(this, FileUploader);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      filenames: []\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"nodes\", []);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (evt) {\n      evt.stopPropagation();\n      var filenames = Array.prototype.map.call(evt.target.files, function (file) {\n        return file.name;\n      });\n\n      _this.setState({\n        filenames: _this.props.multiple ? _this.state.filenames.concat(filenames) : filenames\n      });\n\n      if (_this.props.onChange) {\n        _this.props.onChange(evt);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClick\", function (evt, _ref) {\n      var index = _ref.index,\n          filenameStatus = _ref.filenameStatus;\n\n      if (filenameStatus === 'edit') {\n        evt.stopPropagation();\n\n        var filteredArray = _this.state.filenames.filter(function (filename) {\n          return filename !== _this.nodes[index].innerText.trim();\n        });\n\n        _this.setState({\n          filenames: filteredArray\n        });\n\n        if (_this.props.onDelete) {\n          _this.props.onDelete(evt);\n        }\n\n        _this.props.onClick(evt);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"clearFiles\", function () {\n      // A clearFiles function that resets filenames and can be referenced using a ref by the parent.\n      _this.setState({\n        filenames: []\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(FileUploader, [{\n    key: \"render\",\n    value: function render() {\n      var _classNames,\n          _classNames2,\n          _this2 = this;\n\n      var _this$props = this.props,\n          iconDescription = _this$props.iconDescription,\n          buttonLabel = _this$props.buttonLabel,\n          buttonKind = _this$props.buttonKind,\n          filenameStatus = _this$props.filenameStatus,\n          labelDescription = _this$props.labelDescription,\n          labelTitle = _this$props.labelTitle,\n          className = _this$props.className,\n          multiple = _this$props.multiple,\n          accept = _this$props.accept,\n          name = _this$props.name,\n          size = _this$props.size,\n          onDelete = _this$props.onDelete,\n          other = _objectWithoutProperties(_this$props, _excluded);\n\n      var prefix = this.context;\n      var classes = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefix, \"--form-item\"), true), _defineProperty(_classNames, className, className), _classNames));\n      var selectedFileClasses = classNames(\"\".concat(prefix, \"--file__selected-file\"), (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefix, \"--file__selected-file--md\"), size === 'field' || size === 'md'), _defineProperty(_classNames2, \"\".concat(prefix, \"--file__selected-file--sm\"), size === 'small' || size === 'sm'), _classNames2));\n      return /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: classes\n      }, other), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"\".concat(prefix, \"--file--label\")\n      }, labelTitle), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"\".concat(prefix, \"--label-description\")\n      }, labelDescription), /*#__PURE__*/React.createElement(FileUploaderButton, {\n        labelText: buttonLabel,\n        multiple: multiple,\n        buttonKind: buttonKind,\n        onChange: this.handleChange,\n        disableLabelChanges: true,\n        accept: accept,\n        name: name,\n        size: size\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefix, \"--file-container\")\n      }, this.state.filenames.length === 0 ? null : this.state.filenames.map(function (name, index) {\n        return /*#__PURE__*/React.createElement(\"span\", _extends({\n          key: index,\n          className: selectedFileClasses,\n          ref: function ref(node) {\n            return _this2.nodes[index] = node;\n          } // eslint-disable-line\n\n        }, other), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"\".concat(prefix, \"--file-filename\")\n        }, name), /*#__PURE__*/React.createElement(\"span\", {\n          className: \"\".concat(prefix, \"--file__state-container\")\n        }, /*#__PURE__*/React.createElement(Filename, {\n          iconDescription: iconDescription,\n          status: filenameStatus,\n          onKeyDown: function onKeyDown(evt) {\n            if (matches(evt, [keys.Enter, keys.Space])) {\n              _this2.handleClick(evt, {\n                index: index,\n                filenameStatus: filenameStatus\n              });\n            }\n          },\n          onClick: function onClick(evt) {\n            return _this2.handleClick(evt, {\n              index: index,\n              filenameStatus: filenameStatus\n            });\n          }\n        })));\n      })));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(_ref2, state) {\n      var filenameStatus = _ref2.filenameStatus;\n      var prevFilenameStatus = state.prevFilenameStatus;\n      return prevFilenameStatus === filenameStatus ? null : {\n        filenameStatus: filenameStatus,\n        prevFilenameStatus: filenameStatus\n      };\n    }\n  }]);\n\n  return FileUploader;\n}(React.Component);\n\n_defineProperty(FileUploader, \"propTypes\", {\n  /**\n   * Specify the types of files that this input should be able to receive\n   */\n  accept: PropTypes.arrayOf(PropTypes.string),\n\n  /**\n   * Specify the type of the <FileUploaderButton>\n   */\n  buttonKind: PropTypes.oneOf(ButtonKinds),\n\n  /**\n   * Provide the label text to be read by screen readers when interacting with\n   * the <FileUploaderButton>\n   */\n  buttonLabel: PropTypes.string,\n\n  /**\n   * Provide a custom className to be applied to the container node\n   */\n  className: PropTypes.string,\n\n  /**\n   * Specify the status of the File Upload\n   */\n  filenameStatus: PropTypes.oneOf(['edit', 'complete', 'uploading']).isRequired,\n\n  /**\n   * Provide a description for the complete/close icon that can be read by screen readers\n   */\n  iconDescription: FeatureFlags.enabled('enable-v11-release') ? PropTypes.string.isRequired : PropTypes.string,\n\n  /**\n   * Specify the description text of this <FileUploader>\n   */\n  labelDescription: PropTypes.string,\n\n  /**\n   * Specify the title text of this <FileUploader>\n   */\n  labelTitle: PropTypes.string,\n\n  /**\n   * Specify if the component should accept multiple files to upload\n   */\n  multiple: PropTypes.bool,\n\n  /**\n   * Provide a name for the underlying `<input>` node\n   */\n  name: PropTypes.string,\n\n  /**\n   * Provide an optional `onChange` hook that is called each time the input is\n   * changed\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * Provide an optional `onClick` hook that is called each time the\n   * FileUploader is clicked\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * Provide an optional `onDelete` hook that is called when an uploaded item\n   * is removed\n   */\n  onDelete: PropTypes.func,\n\n  /**\n   * Specify the size of the FileUploaderButton, from a list of available\n   * sizes. For `default` buttons, this prop can remain unspecified.\n   * V11: `default`, `field`, and `small` will be removed\n   */\n  size: PropTypes.oneOf(['default', 'field', 'small', 'sm', 'md', 'lg'])\n});\n\n_defineProperty(FileUploader, \"contextType\", PrefixContext);\n\n_defineProperty(FileUploader, \"defaultProps\", {\n  iconDescription: FeatureFlags.enabled('enable-v11-release') ? undefined : 'Provide icon description',\n  filenameStatus: 'uploading',\n  buttonLabel: '',\n  buttonKind: 'primary',\n  multiple: false,\n  onClick: function onClick() {},\n  accept: []\n});\n\nexport { FileUploader as default };"]},"metadata":{},"sourceType":"module"}