{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"className\", \"feedback\", \"feedbackTimeout\", \"onAnimationEnd\", \"onClick\"];\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport debounce from 'lodash.debounce';\nimport classnames from 'classnames';\nimport { settings } from 'carbon-components';\nimport { composeEventHandlers } from '../../tools/events';\nvar prefix = settings.prefix;\nexport default function Copy(_ref) {\n  var _classnames;\n\n  var children = _ref.children,\n      className = _ref.className,\n      feedback = _ref.feedback,\n      feedbackTimeout = _ref.feedbackTimeout,\n      onAnimationEnd = _ref.onAnimationEnd,\n      onClick = _ref.onClick,\n      other = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      animation = _useState2[0],\n      setAnimation = _useState2[1];\n\n  var classNames = classnames(className, \"\".concat(prefix, \"--copy\"), (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefix, \"--copy-btn--animating\"), animation), _defineProperty(_classnames, \"\".concat(prefix, \"--copy-btn--\").concat(animation), animation), _classnames)); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  var handleFadeOut = useCallback(debounce(function () {\n    setAnimation('fade-out');\n  }, feedbackTimeout), [feedbackTimeout]);\n  var handleClick = useCallback(function () {\n    setAnimation('fade-in');\n    handleFadeOut();\n  }, [handleFadeOut]);\n\n  var handleAnimationEnd = function handleAnimationEnd(event) {\n    if (event.animationName === 'hide-feedback') {\n      setAnimation('');\n    }\n  };\n\n  useEffect(function () {\n    return function () {\n      handleFadeOut.cancel();\n    };\n  }, [handleFadeOut]);\n  return /*#__PURE__*/React.createElement(\"button\", _extends({\n    type: \"button\",\n    className: classNames,\n    onClick: composeEventHandlers([onClick, handleClick]),\n    onAnimationEnd: composeEventHandlers([onAnimationEnd, handleAnimationEnd])\n  }, other, {\n    \"aria-live\": \"polite\",\n    \"aria-label\": !children && (animation ? feedback : other['aria-label']) || null\n  }), children, animation ? feedback : other['aria-label'], /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"\".concat(prefix, \"--assistive-text \").concat(prefix, \"--copy-btn__feedback\")\n  }, feedback));\n}\nCopy.propTypes = {\n  /**\n   * Pass in content to be rendered in the underlying `<button>`\n   */\n  children: PropTypes.node,\n\n  /**\n   * Specify an optional className to be applied to the underlying `<button>`\n   */\n  className: PropTypes.string,\n\n  /**\n   * Specify the string that is displayed when the button is clicked and the\n   * content is copied\n   */\n  feedback: PropTypes.string,\n\n  /**\n   * Specify the time it takes for the feedback message to timeout\n   */\n  feedbackTimeout: PropTypes.number,\n\n  /**\n   * Specify an optional `onAnimationEnd` handler that is called when the underlying\n   * animation ends\n   */\n  onAnimationEnd: PropTypes.func,\n\n  /**\n   * Specify an optional `onClick` handler that is called when the underlying\n   * `<button>` is clicked\n   */\n  onClick: PropTypes.func\n};\nCopy.defaultProps = {\n  feedback: 'Copied!',\n  feedbackTimeout: 2000,\n  onClick: function onClick() {}\n};","map":{"version":3,"sources":["/Users/danielcrow/Documents/development/cloudfoundry/capture/capture-ui/node_modules/carbon-components-react/es/components/Copy/Copy.js"],"names":["_extends","_defineProperty","_slicedToArray","_objectWithoutProperties","_excluded","PropTypes","React","useState","useEffect","useCallback","debounce","classnames","settings","composeEventHandlers","prefix","Copy","_ref","_classnames","children","className","feedback","feedbackTimeout","onAnimationEnd","onClick","other","_useState","_useState2","animation","setAnimation","classNames","concat","handleFadeOut","handleClick","handleAnimationEnd","event","animationName","cancel","createElement","type","propTypes","node","string","number","func","defaultProps"],"mappings":"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","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nvar _excluded = [\"children\", \"className\", \"feedback\", \"feedbackTimeout\", \"onAnimationEnd\", \"onClick\"];\n\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport PropTypes from 'prop-types';\nimport React, { useState, useEffect, useCallback } from 'react';\nimport debounce from 'lodash.debounce';\nimport classnames from 'classnames';\nimport { settings } from 'carbon-components';\nimport { composeEventHandlers } from '../../tools/events';\nvar prefix = settings.prefix;\nexport default function Copy(_ref) {\n  var _classnames;\n\n  var children = _ref.children,\n      className = _ref.className,\n      feedback = _ref.feedback,\n      feedbackTimeout = _ref.feedbackTimeout,\n      onAnimationEnd = _ref.onAnimationEnd,\n      onClick = _ref.onClick,\n      other = _objectWithoutProperties(_ref, _excluded);\n\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      animation = _useState2[0],\n      setAnimation = _useState2[1];\n\n  var classNames = classnames(className, \"\".concat(prefix, \"--copy\"), (_classnames = {}, _defineProperty(_classnames, \"\".concat(prefix, \"--copy-btn--animating\"), animation), _defineProperty(_classnames, \"\".concat(prefix, \"--copy-btn--\").concat(animation), animation), _classnames)); // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  var handleFadeOut = useCallback(debounce(function () {\n    setAnimation('fade-out');\n  }, feedbackTimeout), [feedbackTimeout]);\n  var handleClick = useCallback(function () {\n    setAnimation('fade-in');\n    handleFadeOut();\n  }, [handleFadeOut]);\n\n  var handleAnimationEnd = function handleAnimationEnd(event) {\n    if (event.animationName === 'hide-feedback') {\n      setAnimation('');\n    }\n  };\n\n  useEffect(function () {\n    return function () {\n      handleFadeOut.cancel();\n    };\n  }, [handleFadeOut]);\n  return /*#__PURE__*/React.createElement(\"button\", _extends({\n    type: \"button\",\n    className: classNames,\n    onClick: composeEventHandlers([onClick, handleClick]),\n    onAnimationEnd: composeEventHandlers([onAnimationEnd, handleAnimationEnd])\n  }, other, {\n    \"aria-live\": \"polite\",\n    \"aria-label\": !children && (animation ? feedback : other['aria-label']) || null\n  }), children, animation ? feedback : other['aria-label'], /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\",\n    className: \"\".concat(prefix, \"--assistive-text \").concat(prefix, \"--copy-btn__feedback\")\n  }, feedback));\n}\nCopy.propTypes = {\n  /**\n   * Pass in content to be rendered in the underlying `<button>`\n   */\n  children: PropTypes.node,\n\n  /**\n   * Specify an optional className to be applied to the underlying `<button>`\n   */\n  className: PropTypes.string,\n\n  /**\n   * Specify the string that is displayed when the button is clicked and the\n   * content is copied\n   */\n  feedback: PropTypes.string,\n\n  /**\n   * Specify the time it takes for the feedback message to timeout\n   */\n  feedbackTimeout: PropTypes.number,\n\n  /**\n   * Specify an optional `onAnimationEnd` handler that is called when the underlying\n   * animation ends\n   */\n  onAnimationEnd: PropTypes.func,\n\n  /**\n   * Specify an optional `onClick` handler that is called when the underlying\n   * `<button>` is clicked\n   */\n  onClick: PropTypes.func\n};\nCopy.defaultProps = {\n  feedback: 'Copied!',\n  feedbackTimeout: 2000,\n  onClick: function onClick() {}\n};"]},"metadata":{},"sourceType":"module"}