{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"triggerId\", \"tooltipBodyId\", \"children\", \"className\", \"triggerClassName\", \"focusTrap\", \"triggerText\", \"showIcon\", \"iconName\", \"iconDescription\", \"renderIcon\", \"menuOffset\", \"tabIndex\", \"innerRef\", \"selectorPrimaryFocus\", \"tooltipId\"];\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n\n    if (enumerableOnly) {\n      symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n    }\n\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { isForwardRef } from 'react-is';\nimport debounce from 'lodash.debounce';\nimport classNames from 'classnames';\nimport { Information16 as Information } from '@carbon/icons-react';\nimport { settings } from 'carbon-components';\nimport FloatingMenu, { DIRECTION_LEFT, DIRECTION_TOP, DIRECTION_RIGHT, DIRECTION_BOTTOM } from '../../internal/FloatingMenu';\nimport ClickListener from '../../internal/ClickListener';\nimport mergeRefs from '../../tools/mergeRefs';\nimport { keys, matches as keyDownMatch } from '../../internal/keyboard';\nimport isRequiredOneOf from '../../prop-types/isRequiredOneOf';\nimport requiredIfValueExists from '../../prop-types/requiredIfValueExists';\nimport { useControlledStateWithValue } from '../../internal/FeatureFlags';\nvar prefix = settings.prefix;\n/**\n * @param {Element} menuBody The menu body with the menu arrow.\n * @param {string} menuDirection Where the floating menu menu should be placed relative to the trigger button.\n * @returns {FloatingMenu~offset} The adjustment of the floating menu position, upon the position of the menu arrow.\n * @private\n */\n\nvar getMenuOffset = function getMenuOffset(menuBody, menuDirection) {\n  var _DIRECTION_LEFT$DIREC, _DIRECTION_LEFT$DIREC2;\n\n  var arrowStyle = menuBody.ownerDocument.defaultView.getComputedStyle(menuBody, ':before');\n  var arrowPositionProp = (_DIRECTION_LEFT$DIREC = {}, _defineProperty(_DIRECTION_LEFT$DIREC, DIRECTION_LEFT, 'right'), _defineProperty(_DIRECTION_LEFT$DIREC, DIRECTION_TOP, 'bottom'), _defineProperty(_DIRECTION_LEFT$DIREC, DIRECTION_RIGHT, 'left'), _defineProperty(_DIRECTION_LEFT$DIREC, DIRECTION_BOTTOM, 'top'), _DIRECTION_LEFT$DIREC)[menuDirection];\n  var menuPositionAdjustmentProp = (_DIRECTION_LEFT$DIREC2 = {}, _defineProperty(_DIRECTION_LEFT$DIREC2, DIRECTION_LEFT, 'left'), _defineProperty(_DIRECTION_LEFT$DIREC2, DIRECTION_TOP, 'top'), _defineProperty(_DIRECTION_LEFT$DIREC2, DIRECTION_RIGHT, 'left'), _defineProperty(_DIRECTION_LEFT$DIREC2, DIRECTION_BOTTOM, 'top'), _DIRECTION_LEFT$DIREC2)[menuDirection];\n  var values = [arrowPositionProp, 'border-bottom-width'].reduce(function (o, name) {\n    return _objectSpread(_objectSpread({}, o), {}, _defineProperty({}, name, Number((/^([\\d-]+)px$/.exec(arrowStyle.getPropertyValue(name)) || [])[1])));\n  }, {});\n  values[arrowPositionProp] = values[arrowPositionProp] || -6; // IE, etc.\n\n  if (Object.keys(values).every(function (name) {\n    return !isNaN(values[name]);\n  })) {\n    var arrowPosition = values[arrowPositionProp],\n        borderBottomWidth = values['border-bottom-width'];\n    return _defineProperty({\n      left: 0,\n      top: 0\n    }, menuPositionAdjustmentProp, Math.sqrt(Math.pow(borderBottomWidth, 2) * 2) - arrowPosition);\n  }\n};\n\nvar Tooltip = /*#__PURE__*/function (_Component) {\n  _inherits(Tooltip, _Component);\n\n  var _super = _createSuper(Tooltip);\n\n  function Tooltip(props) {\n    var _this;\n\n    _classCallCheck(this, Tooltip);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"_tooltipEl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_triggerRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_tooltipId\", _this.props.id || _this.props.tooltipId || \"__carbon-tooltip_\".concat(Math.random().toString(36).substr(2)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_tooltipDismissed\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"updateOrientation\", function (params) {\n      if (_this.props.autoOrientation) {\n        var newOrientation = _this.getBestDirection(params);\n\n        var direction = newOrientation.direction,\n            align = newOrientation.align;\n\n        if (direction !== _this.state.storedDirection) {\n          _this.setState({\n            open: false\n          }, function () {\n            _this.setState({\n              open: true,\n              storedDirection: direction\n            });\n          });\n        }\n\n        if (align === 'original') {\n          _this.setState({\n            storedAlign: _this.props.align\n          });\n        } else {\n          _this.setState({\n            storedAlign: align\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBestDirection\", function (_ref2) {\n      var menuSize = _ref2.menuSize,\n          _ref2$refPosition = _ref2.refPosition,\n          refPosition = _ref2$refPosition === void 0 ? {} : _ref2$refPosition,\n          _ref2$offset = _ref2.offset,\n          offset = _ref2$offset === void 0 ? {} : _ref2$offset,\n          _ref2$direction = _ref2.direction,\n          direction = _ref2$direction === void 0 ? DIRECTION_BOTTOM : _ref2$direction,\n          _ref2$scrollX = _ref2.scrollX,\n          pageXOffset = _ref2$scrollX === void 0 ? 0 : _ref2$scrollX,\n          _ref2$scrollY = _ref2.scrollY,\n          pageYOffset = _ref2$scrollY === void 0 ? 0 : _ref2$scrollY,\n          container = _ref2.container;\n      var _refPosition$left = refPosition.left,\n          refLeft = _refPosition$left === void 0 ? 0 : _refPosition$left,\n          _refPosition$top = refPosition.top,\n          refTop = _refPosition$top === void 0 ? 0 : _refPosition$top,\n          _refPosition$right = refPosition.right,\n          refRight = _refPosition$right === void 0 ? 0 : _refPosition$right,\n          _refPosition$bottom = refPosition.bottom,\n          refBottom = _refPosition$bottom === void 0 ? 0 : _refPosition$bottom;\n      var scrollX = container.position !== 'static' ? 0 : pageXOffset;\n      var scrollY = container.position !== 'static' ? 0 : pageYOffset;\n      var relativeDiff = {\n        top: container.position !== 'static' ? container.rect.top : 0,\n        left: container.position !== 'static' ? container.rect.left : 0\n      };\n      var width = menuSize.width,\n          height = menuSize.height;\n      var _offset$top = offset.top,\n          top = _offset$top === void 0 ? 0 : _offset$top,\n          _offset$left = offset.left,\n          left = _offset$left === void 0 ? 0 : _offset$left;\n      var refCenterHorizontal = (refLeft + refRight) / 2;\n      var refCenterVertical = (refTop + refBottom) / 2; // Calculate whether a new direction is needed to stay in parent.\n      // It will switch the current direction to the opposite i.e.\n      // If the direction=\"top\" and the top boundary is overflowed\n      // then it switches the direction to \"bottom\".\n\n      var newDirection = function newDirection() {\n        switch (direction) {\n          case DIRECTION_LEFT:\n            return refLeft - width + scrollX - left - relativeDiff.left < 0 ? DIRECTION_RIGHT : direction;\n\n          case DIRECTION_TOP:\n            return refTop - height + scrollY - top - relativeDiff.top < 0 ? DIRECTION_BOTTOM : direction;\n\n          case DIRECTION_RIGHT:\n            return refRight + scrollX + left - relativeDiff.left + width > container.rect.width ? DIRECTION_LEFT : direction;\n\n          case DIRECTION_BOTTOM:\n            return refBottom + scrollY + top - relativeDiff.top + height > container.rect.height ? DIRECTION_TOP : direction;\n\n          default:\n            // If there is a new direction then ignore the logic above\n            return direction;\n        }\n      }; // Calculate whether a new alignment is needed to stay in parent\n      // If the direction is left or right this involves checking the\n      // overflow in the vertical direction. If the direction is top or\n      // bottom, this involves checking overflow in the horizontal direction.\n      // \"original\" is used to signify no change.\n\n\n      var newAlignment = function newAlignment() {\n        switch (direction) {\n          case DIRECTION_LEFT:\n          case DIRECTION_RIGHT:\n            if (refCenterVertical - height / 2 + scrollY + top - 9 - relativeDiff.top < 0) {\n              // If goes above the top boundary\n              return 'start';\n            } else if (refCenterVertical - height / 2 + scrollY + top - 9 - relativeDiff.top + height > container.rect.height) {\n              // If goes below the bottom boundary\n              return 'end';\n            } else {\n              // No need to change alignment\n              return 'original';\n            }\n\n          case DIRECTION_TOP:\n          case DIRECTION_BOTTOM:\n            if (refCenterHorizontal - width / 2 + scrollX + left - relativeDiff.left < 0) {\n              // If goes below the left boundary\n              return 'start';\n            } else if (refCenterHorizontal - width / 2 + scrollX + left - relativeDiff.left + width > container.rect.width) {\n              // If it goes over the right boundary\n              return 'end';\n            } else {\n              // No need to change alignment\n              return 'original';\n            }\n\n          default:\n            // No need to change alignment\n            return 'original';\n        }\n      };\n\n      return {\n        direction: newDirection(),\n        align: newAlignment()\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleUserInputOpenClose\", function (event, _ref3) {\n      var open = _ref3.open;\n\n      if (_this.isControlled && _this.props.onChange) {\n        // Callback to the parent to let them decide what to do\n        _this.props.onChange(event, {\n          open: open\n        });\n\n        return;\n      } // capture tooltip body element before it is removed from the DOM\n\n\n      var tooltipBody = _this._tooltipEl;\n\n      _this.setState({\n        open: open\n      }, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(event, {\n            open: open\n          });\n        }\n\n        if (!open && tooltipBody && tooltipBody.id === _this._tooltipId) {\n          _this._tooltipDismissed = true;\n          var currentActiveNode = event === null || event === void 0 ? void 0 : event.relatedTarget;\n\n          if (!currentActiveNode && document.activeElement === document.body && (event === null || event === void 0 ? void 0 : event.type) !== 'click') {\n            var _this$_triggerRef;\n\n            (_this$_triggerRef = _this._triggerRef) === null || _this$_triggerRef === void 0 ? void 0 : _this$_triggerRef.current.focus();\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleFocus\", function (state, evt) {\n      var currentTarget = evt.currentTarget,\n          relatedTarget = evt.relatedTarget;\n\n      if (currentTarget !== relatedTarget) {\n        _this._tooltipDismissed = false;\n      }\n\n      if (state === 'over') {\n        if (!_this._tooltipDismissed) {\n          _this._handleUserInputOpenClose(evt, {\n            open: true\n          });\n        }\n\n        _this._tooltipDismissed = false;\n      } else if (state !== 'out') {\n        // Note: SVGElement in IE11 does not have `.contains()`\n        var triggerEl = _this._triggerRef.current;\n\n        var shouldPreventClose = relatedTarget && (triggerEl && (triggerEl === null || triggerEl === void 0 ? void 0 : triggerEl.contains(relatedTarget)) || _this._tooltipEl && _this._tooltipEl.contains(relatedTarget));\n\n        if (!shouldPreventClose) {\n          _this._handleUserInputOpenClose(evt, {\n            open: false\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_debouncedHandleFocus\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_getTarget\", function () {\n      var triggerEl = _this._triggerRef.current;\n      return triggerEl && triggerEl.closest('[data-floating-menu-container]') || document.body;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouse\", function (evt) {\n      evt.persist();\n      var state = {\n        focus: 'over',\n        blur: 'out',\n        click: 'click'\n      }[evt.type];\n      var hadContextMenu = _this._hasContextMenu;\n\n      if (evt.type === 'click' || evt.type === 'contextmenu') {\n        _this._hasContextMenu = evt.type === 'contextmenu';\n      }\n\n      if (_this._hasContextMenu) {\n        _this._handleUserInputOpenClose(evt, {\n          open: false\n        });\n\n        return;\n      }\n\n      if (state === 'click') {\n        evt.preventDefault();\n        var shouldOpen = _this.isControlled ? !_this.props.open : !_this.state.open;\n\n        _this._handleUserInputOpenClose(evt, {\n          open: shouldOpen\n        });\n      } else if (state && (state !== 'out' || !hadContextMenu)) {\n        var _assertThisInitialize;\n\n        (_assertThisInitialize = _assertThisInitialized(_this)) === null || _assertThisInitialize === void 0 ? void 0 : _assertThisInitialize._debouncedHandleFocus(state, evt);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickOutside\", function (evt) {\n      var shouldPreventClose = evt && evt.target && _this._tooltipEl && _this._tooltipEl.contains(evt.target);\n\n      if (!shouldPreventClose && _this.state.open) {\n        _this._handleUserInputOpenClose(evt, {\n          open: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyPress\", function (event) {\n      if (keyDownMatch(event, [keys.Escape, keys.Tab])) {\n        event.stopPropagation();\n\n        _this._handleUserInputOpenClose(event, {\n          open: false\n        });\n      }\n\n      if (keyDownMatch(event, [keys.Enter, keys.Space])) {\n        event.stopPropagation();\n        event.preventDefault();\n        var shouldOpen = _this.isControlled ? !_this.props.open : !_this.state.open;\n\n        _this._handleUserInputOpenClose(event, {\n          open: shouldOpen\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEscKeyPress\", function (event) {\n      var _ref4 = _this.isControlled ? _this.props : _this.state,\n          open = _ref4.open;\n\n      if (open && keyDownMatch(event, [keys.Escape])) {\n        event.stopPropagation();\n        return _this._handleUserInputOpenClose(event, {\n          open: false\n        });\n      }\n    });\n\n    _this.isControlled = props.open !== undefined;\n\n    if (useControlledStateWithValue && _this.isControlled) {\n      // Skips the logic of setting initial state if this component is controlled\n      return _possibleConstructorReturn(_this);\n    }\n\n    var _open = useControlledStateWithValue ? props.defaultOpen : props.open;\n\n    _this.state = {\n      open: _open,\n      storedDirection: props.direction,\n      storedAlign: props.align\n    };\n    return _this;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this._debouncedHandleFocus) {\n        this._debouncedHandleFocus = debounce(this._handleFocus, 200);\n      }\n\n      document.addEventListener('keydown', this.handleEscKeyPress, false);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.direction != this.props.direction) {\n        this.setState({\n          storedDirection: this.props.direction\n        });\n      }\n\n      if (prevProps.align != this.props.align) {\n        this.setState({\n          storedAlign: this.props.align\n        });\n      }\n\n      if (prevState.open && !this.state.open) {\n        // Reset orientation when closing\n        this.setState({\n          storedDirection: this.props.direction,\n          storedAlign: this.props.align\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._debouncedHandleFocus) {\n        this._debouncedHandleFocus.cancel();\n\n        this._debouncedHandleFocus = null;\n      }\n\n      document.removeEventListener('keydown', this.handleEscKeyPress, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames,\n          _this2 = this;\n\n      var _this$props = this.props,\n          _this$props$triggerId = _this$props.triggerId,\n          triggerId = _this$props$triggerId === void 0 ? this.triggerId = this.triggerId || \"__carbon-tooltip-trigger_\".concat(Math.random().toString(36).substr(2)) : _this$props$triggerId,\n          tooltipBodyId = _this$props.tooltipBodyId,\n          children = _this$props.children,\n          className = _this$props.className,\n          triggerClassName = _this$props.triggerClassName,\n          focusTrap = _this$props.focusTrap,\n          triggerText = _this$props.triggerText,\n          showIcon = _this$props.showIcon,\n          iconName = _this$props.iconName,\n          iconDescription = _this$props.iconDescription,\n          IconCustomElement = _this$props.renderIcon,\n          menuOffset = _this$props.menuOffset,\n          _this$props$tabIndex = _this$props.tabIndex,\n          tabIndex = _this$props$tabIndex === void 0 ? 0 : _this$props$tabIndex,\n          ref = _this$props.innerRef,\n          selectorPrimaryFocus = _this$props.selectorPrimaryFocus,\n          tooltipId = _this$props.tooltipId,\n          other = _objectWithoutProperties(_this$props, _excluded);\n\n      var _ref5 = this.isControlled ? this.props : this.state,\n          open = _ref5.open;\n\n      var _this$state = this.state,\n          storedDirection = _this$state.storedDirection,\n          storedAlign = _this$state.storedAlign;\n      var tooltipClasses = classNames(\"\".concat(prefix, \"--tooltip\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefix, \"--tooltip--shown\"), open), _defineProperty(_classNames, \"\".concat(prefix, \"--tooltip--\").concat(storedDirection), storedDirection), _defineProperty(_classNames, \"\".concat(prefix, \"--tooltip--align-\").concat(storedAlign), storedAlign), _classNames), className);\n      var triggerClasses = classNames(\"\".concat(prefix, \"--tooltip__label\"), triggerClassName);\n      var refProp = mergeRefs(this._triggerRef, ref);\n      var iconProperties = {\n        name: iconName,\n        role: null,\n        description: null\n      };\n\n      var properties = _objectSpread({\n        role: 'button',\n        tabIndex: tabIndex,\n        onClick: this.handleMouse,\n        onContextMenu: this.handleMouse,\n        onKeyDown: this.handleKeyPress,\n        onMouseOver: this.handleMouse,\n        onMouseOut: this.handleMouse,\n        onFocus: this.handleMouse,\n        onBlur: this.handleMouse,\n        'aria-controls': !open ? undefined : this._tooltipId,\n        'aria-expanded': open,\n        'aria-describedby': open ? this._tooltipId : null\n      }, triggerText ? {\n        'aria-labelledby': triggerId\n      } : {\n        'aria-label': iconDescription\n      });\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ClickListener, {\n        onClickOutside: this.handleClickOutside\n      }, showIcon ? /*#__PURE__*/React.createElement(\"div\", {\n        id: triggerId,\n        className: triggerClasses\n      }, triggerText, /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: \"\".concat(prefix, \"--tooltip__trigger\")\n      }, properties, {\n        ref: refProp,\n        \"aria-describedby\": tooltipBodyId\n      }), /*#__PURE__*/React.createElement(IconCustomElement, iconProperties))) : /*#__PURE__*/React.createElement(\"div\", _extends({\n        id: triggerId,\n        className: triggerClasses,\n        ref: refProp\n      }, properties, {\n        \"aria-describedby\": tooltipBodyId\n      }), triggerText)), open && /*#__PURE__*/React.createElement(FloatingMenu, {\n        focusTrap: focusTrap,\n        selectorPrimaryFocus: this.props.selectorPrimaryFocus,\n        target: this._getTarget,\n        triggerRef: this._triggerRef,\n        menuDirection: storedDirection,\n        menuOffset: menuOffset,\n        menuRef: function menuRef(node) {\n          _this2._tooltipEl = node;\n        },\n        updateOrientation: this.updateOrientation\n      }, /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: tooltipClasses,\n        onKeyDown: function onKeyDown(event) {\n          if (keyDownMatch(event, [keys.Escape])) {\n            event.stopPropagation();\n          }\n        }\n      }, other, {\n        id: this._tooltipId,\n        \"data-floating-menu-direction\": storedDirection,\n        onMouseOver: this.handleMouse,\n        onMouseOut: this.handleMouse,\n        onFocus: this.handleMouse,\n        onBlur: this.handleMouse,\n        onContextMenu: this.handleMouse\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefix, \"--tooltip__caret\")\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefix, \"--tooltip__content\"),\n        \"aria-labelledby\": this._tooltipId,\n        role: \"dialog\"\n      }, children))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(_ref6, state) {\n      var open = _ref6.open;\n      /**\n       * so that tooltip can be controlled programmatically through this `open` prop\n       */\n\n      var prevOpen = state.prevOpen;\n      return prevOpen === open ? null : {\n        open: open,\n        prevOpen: open\n      };\n    }\n  }]);\n\n  return Tooltip;\n}(Component);\n\n_defineProperty(Tooltip, \"propTypes\", _objectSpread({\n  /**\n   * Specify the alignment (to the trigger button) of the tooltip.\n   * Can be one of: start, center, or end.\n   */\n  align: PropTypes.oneOf(['start', 'center', 'end']),\n\n  /**\n   * Whether or not to re-orientate the tooltip if it goes outside,\n   * of the bounds of the parent.\n   */\n  autoOrientation: PropTypes.bool,\n\n  /**\n   * Contents to put into the tooltip.\n   */\n  children: PropTypes.node,\n\n  /**\n   * The CSS class names of the tooltip.\n   */\n  className: PropTypes.string,\n\n  /**\n   * Optional starting value for uncontrolled state\n   */\n  defaultOpen: PropTypes.bool,\n\n  /**\n   * Where to put the tooltip, relative to the trigger UI.\n   */\n  direction: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n\n  /**\n   * Enable or disable focus trap behavior\n   */\n  focusTrap: PropTypes.bool,\n\n  /**\n   * The name of the default tooltip icon.\n   */\n  iconName: PropTypes.string,\n\n  /**\n   * The adjustment of the tooltip position.\n   */\n  menuOffset: PropTypes.oneOfType([PropTypes.shape({\n    top: PropTypes.number,\n    left: PropTypes.number\n  }), PropTypes.func]),\n\n  /**\n   * * the signature of the event handler will be:\n   * * `onChange(event, { open })` where:\n   *   * `event` is the (React) raw event\n   *   * `open` is the new value\n   */\n  onChange: !useControlledStateWithValue ? PropTypes.func : requiredIfValueExists(PropTypes.func),\n\n  /**\n   * Open/closed state.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * The callback function to optionally render the icon element.\n   * It should be a component with React.forwardRef().\n   */\n  renderIcon: function renderIcon(props, propName, componentName) {\n    if (props[propName] == undefined) {\n      return;\n    }\n\n    var RefForwardingComponent = props[propName];\n\n    if (!isForwardRef( /*#__PURE__*/React.createElement(RefForwardingComponent, null))) {\n      return new Error(\"Invalid value of prop '\".concat(propName, \"' supplied to '\").concat(componentName, \"',\\n                          it should be created/wrapped with React.forwardRef() to have a ref and access the proper\\n                          DOM node of the element to calculate its position in the viewport.\"));\n    }\n  },\n\n  /**\n   * Specify a CSS selector that matches the DOM element that should\n   * be focused when the Tooltip opens\n   */\n  selectorPrimaryFocus: PropTypes.string,\n\n  /**\n   * `true` to show the default tooltip icon.\n   */\n  showIcon: PropTypes.bool,\n\n  /**\n   * Optional prop to specify the tabIndex of the Tooltip\n   */\n  tabIndex: PropTypes.number,\n\n  /**\n   * The ID of the tooltip body content.\n   */\n  tooltipBodyId: PropTypes.string,\n\n  /**\n   * The ID of the tooltip content.\n   */\n  tooltipId: PropTypes.string,\n\n  /**\n   * The CSS class names of the trigger UI.\n   */\n  triggerClassName: PropTypes.string,\n\n  /**\n   * The ID of the trigger button.\n   */\n  triggerId: PropTypes.string\n}, isRequiredOneOf({\n  /**\n   * The content to put into the trigger UI, except the (default) tooltip icon.\n   */\n  triggerText: PropTypes.node,\n\n  /**\n   * The description of the default tooltip icon, to be put in its SVG 'aria-label' and 'alt' .\n   */\n  iconDescription: PropTypes.string\n})));\n\n_defineProperty(Tooltip, \"defaultProps\", {\n  align: 'center',\n  direction: DIRECTION_BOTTOM,\n  focusTrap: true,\n  renderIcon: Information,\n  showIcon: true,\n  triggerText: null,\n  menuOffset: getMenuOffset,\n  selectorPrimaryFocus: '[data-tooltip-primary-focus]'\n});\n\nexport { Tooltip };\nexport default (function () {\n  var forwardRef = function forwardRef(props, ref) {\n    return /*#__PURE__*/React.createElement(Tooltip, _extends({}, props, {\n      innerRef: ref\n    }));\n  };\n\n  forwardRef.displayName = 'Tooltip';\n  return /*#__PURE__*/React.forwardRef(forwardRef);\n})();","map":{"version":3,"sources":["/Users/danielcrow/Documents/development/cloudfoundry/capture/capture-ui/node_modules/carbon-components-react/es/components/Tooltip/Tooltip.js"],"names":["_extends","_objectWithoutProperties","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_possibleConstructorReturn","_getPrototypeOf","_defineProperty","_excluded","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","arguments","apply","sham","Proxy","Boolean","prototype","valueOf","call","e","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","target","i","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","Component","PropTypes","isForwardRef","debounce","classNames","Information16","Information","settings","FloatingMenu","DIRECTION_LEFT","DIRECTION_TOP","DIRECTION_RIGHT","DIRECTION_BOTTOM","ClickListener","mergeRefs","matches","keyDownMatch","isRequiredOneOf","requiredIfValueExists","useControlledStateWithValue","prefix","getMenuOffset","menuBody","menuDirection","_DIRECTION_LEFT$DIREC","_DIRECTION_LEFT$DIREC2","arrowStyle","ownerDocument","defaultView","getComputedStyle","arrowPositionProp","menuPositionAdjustmentProp","values","reduce","o","name","Number","exec","getPropertyValue","every","isNaN","arrowPosition","borderBottomWidth","left","top","Math","sqrt","pow","Tooltip","_Component","_super","props","_this","createRef","id","tooltipId","concat","random","toString","substr","params","autoOrientation","newOrientation","getBestDirection","direction","align","state","storedDirection","setState","open","storedAlign","_ref2","menuSize","_ref2$refPosition","refPosition","_ref2$offset","offset","_ref2$direction","_ref2$scrollX","scrollX","pageXOffset","_ref2$scrollY","scrollY","pageYOffset","container","_refPosition$left","refLeft","_refPosition$top","refTop","_refPosition$right","right","refRight","_refPosition$bottom","bottom","refBottom","position","relativeDiff","rect","width","height","_offset$top","_offset$left","refCenterHorizontal","refCenterVertical","newDirection","newAlignment","event","_ref3","isControlled","onChange","tooltipBody","_tooltipEl","_tooltipId","_tooltipDismissed","currentActiveNode","relatedTarget","document","activeElement","body","type","_this$_triggerRef","_triggerRef","current","focus","evt","currentTarget","_handleUserInputOpenClose","triggerEl","shouldPreventClose","contains","closest","persist","blur","click","hadContextMenu","_hasContextMenu","preventDefault","shouldOpen","_assertThisInitialize","_debouncedHandleFocus","Escape","Tab","stopPropagation","Enter","Space","_ref4","undefined","_open","defaultOpen","value","componentDidMount","_handleFocus","addEventListener","handleEscKeyPress","componentDidUpdate","prevProps","prevState","componentWillUnmount","cancel","removeEventListener","render","_classNames","_this2","_this$props","_this$props$triggerId","triggerId","tooltipBodyId","children","className","triggerClassName","focusTrap","triggerText","showIcon","iconName","iconDescription","IconCustomElement","renderIcon","menuOffset","_this$props$tabIndex","tabIndex","ref","innerRef","selectorPrimaryFocus","other","_ref5","_this$state","tooltipClasses","triggerClasses","refProp","iconProperties","role","description","properties","onClick","handleMouse","onContextMenu","onKeyDown","handleKeyPress","onMouseOver","onMouseOut","onFocus","onBlur","createElement","Fragment","onClickOutside","handleClickOutside","_getTarget","triggerRef","menuRef","node","updateOrientation","getDerivedStateFromProps","_ref6","prevOpen","oneOf","bool","string","oneOfType","shape","number","func","propName","componentName","RefForwardingComponent","Error","forwardRef","displayName"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,gCAArB;AACA,OAAOC,wBAAP,MAAqC,gDAArC;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAOC,YAAP,MAAyB,oCAAzB;AACA,OAAOC,sBAAP,MAAmC,8CAAnC;AACA,OAAOC,SAAP,MAAsB,iCAAtB;AACA,OAAOC,0BAAP,MAAuC,kDAAvC;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,IAAIC,SAAS,GAAG,CAAC,WAAD,EAAc,eAAd,EAA+B,UAA/B,EAA2C,WAA3C,EAAwD,kBAAxD,EAA4E,WAA5E,EAAyF,aAAzF,EAAwG,UAAxG,EAAoH,UAApH,EAAgI,iBAAhI,EAAmJ,YAAnJ,EAAiK,YAAjK,EAA+K,UAA/K,EAA2L,UAA3L,EAAuM,sBAAvM,EAA+N,WAA/N,CAAhB;;AAEA,SAASC,YAAT,CAAsBC,OAAtB,EAA+B;AAAE,MAAIC,yBAAyB,GAAGC,yBAAyB,EAAzD;;AAA6D,SAAO,SAASC,oBAAT,GAAgC;AAAE,QAAIC,KAAK,GAAGR,eAAe,CAACI,OAAD,CAA3B;AAAA,QAAsCK,MAAtC;;AAA8C,QAAIJ,yBAAJ,EAA+B;AAAE,UAAIK,SAAS,GAAGV,eAAe,CAAC,IAAD,CAAf,CAAsBW,WAAtC;;AAAmDF,MAAAA,MAAM,GAAGG,OAAO,CAACC,SAAR,CAAkBL,KAAlB,EAAyBM,SAAzB,EAAoCJ,SAApC,CAAT;AAA0D,KAA9I,MAAoJ;AAAED,MAAAA,MAAM,GAAGD,KAAK,CAACO,KAAN,CAAY,IAAZ,EAAkBD,SAAlB,CAAT;AAAwC;;AAAC,WAAOf,0BAA0B,CAAC,IAAD,EAAOU,MAAP,CAAjC;AAAkD,GAAxU;AAA2U;;AAEza,SAASH,yBAAT,GAAqC;AAAE,MAAI,OAAOM,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;AAAc,MAAID,OAAO,CAACC,SAAR,CAAkBG,IAAtB,EAA4B,OAAO,KAAP;AAAc,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAAa,MAAI;AAAEC,IAAAA,OAAO,CAACC,SAAR,CAAkBC,OAAlB,CAA0BC,IAA1B,CAA+BT,OAAO,CAACC,SAAR,CAAkBK,OAAlB,EAA2B,EAA3B,EAA+B,YAAY,CAAE,CAA7C,CAA/B;AAAgF,WAAO,IAAP;AAAc,GAApG,CAAqG,OAAOI,CAAP,EAAU;AAAE,WAAO,KAAP;AAAe;AAAE;;AAEzU,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AAAE,MAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAYF,MAAZ,CAAX;;AAAgC,MAAIG,MAAM,CAACC,qBAAX,EAAkC;AAAE,QAAIC,OAAO,GAAGF,MAAM,CAACC,qBAAP,CAA6BJ,MAA7B,CAAd;;AAAoD,QAAIC,cAAJ,EAAoB;AAAEI,MAAAA,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAAE,eAAOJ,MAAM,CAACK,wBAAP,CAAgCR,MAAhC,EAAwCO,GAAxC,EAA6CE,UAApD;AAAiE,OAAjG,CAAV;AAA+G;;AAACP,IAAAA,IAAI,CAACQ,IAAL,CAAUnB,KAAV,CAAgBW,IAAhB,EAAsBG,OAAtB;AAAiC;;AAAC,SAAOH,IAAP;AAAc;;AAEzV,SAASS,aAAT,CAAuBC,MAAvB,EAA+B;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvB,SAAS,CAACwB,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AAAE,QAAIE,MAAM,GAAGzB,SAAS,CAACuB,CAAD,CAAT,IAAgB,IAAhB,GAAuBvB,SAAS,CAACuB,CAAD,CAAhC,GAAsC,EAAnD;;AAAuD,QAAIA,CAAC,GAAG,CAAR,EAAW;AAAEd,MAAAA,OAAO,CAACI,MAAM,CAACY,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUC,GAAV,EAAe;AAAExC,QAAAA,eAAe,CAACmC,MAAD,EAASK,GAAT,EAAcF,MAAM,CAACE,GAAD,CAApB,CAAf;AAA4C,OAAnG;AAAuG,KAApH,MAA0H,IAAId,MAAM,CAACe,yBAAX,EAAsC;AAAEf,MAAAA,MAAM,CAACgB,gBAAP,CAAwBP,MAAxB,EAAgCT,MAAM,CAACe,yBAAP,CAAiCH,MAAjC,CAAhC;AAA4E,KAApH,MAA0H;AAAEhB,MAAAA,OAAO,CAACI,MAAM,CAACY,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUC,GAAV,EAAe;AAAEd,QAAAA,MAAM,CAACiB,cAAP,CAAsBR,MAAtB,EAA8BK,GAA9B,EAAmCd,MAAM,CAACK,wBAAP,CAAgCO,MAAhC,EAAwCE,GAAxC,CAAnC;AAAmF,OAApI;AAAwI;AAAE;;AAAC,SAAOL,MAAP;AAAgB;AAEthB;AACA;AACA;AACA;AACA;AACA;;;AACA,OAAOS,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,YAAT,QAA6B,UAA7B;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,UAAP,MAAuB,YAAvB;AACA,SAASC,aAAa,IAAIC,WAA1B,QAA6C,qBAA7C;AACA,SAASC,QAAT,QAAyB,mBAAzB;AACA,OAAOC,YAAP,IAAuBC,cAAvB,EAAuCC,aAAvC,EAAsDC,eAAtD,EAAuEC,gBAAvE,QAA+F,6BAA/F;AACA,OAAOC,aAAP,MAA0B,8BAA1B;AACA,OAAOC,SAAP,MAAsB,uBAAtB;AACA,SAASlC,IAAT,EAAemC,OAAO,IAAIC,YAA1B,QAA8C,yBAA9C;AACA,OAAOC,eAAP,MAA4B,kCAA5B;AACA,OAAOC,qBAAP,MAAkC,wCAAlC;AACA,SAASC,2BAAT,QAA4C,6BAA5C;AACA,IAAIC,MAAM,GAAGb,QAAQ,CAACa,MAAtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,aAAa,GAAG,SAASA,aAAT,CAAuBC,QAAvB,EAAiCC,aAAjC,EAAgD;AAClE,MAAIC,qBAAJ,EAA2BC,sBAA3B;;AAEA,MAAIC,UAAU,GAAGJ,QAAQ,CAACK,aAAT,CAAuBC,WAAvB,CAAmCC,gBAAnC,CAAoDP,QAApD,EAA8D,SAA9D,CAAjB;AACA,MAAIQ,iBAAiB,GAAG,CAACN,qBAAqB,GAAG,EAAxB,EAA4BrE,eAAe,CAACqE,qBAAD,EAAwBf,cAAxB,EAAwC,OAAxC,CAA3C,EAA6FtD,eAAe,CAACqE,qBAAD,EAAwBd,aAAxB,EAAuC,QAAvC,CAA5G,EAA8JvD,eAAe,CAACqE,qBAAD,EAAwBb,eAAxB,EAAyC,MAAzC,CAA7K,EAA+NxD,eAAe,CAACqE,qBAAD,EAAwBZ,gBAAxB,EAA0C,KAA1C,CAA9O,EAAgSY,qBAAjS,EAAwTD,aAAxT,CAAxB;AACA,MAAIQ,0BAA0B,GAAG,CAACN,sBAAsB,GAAG,EAAzB,EAA6BtE,eAAe,CAACsE,sBAAD,EAAyBhB,cAAzB,EAAyC,MAAzC,CAA5C,EAA8FtD,eAAe,CAACsE,sBAAD,EAAyBf,aAAzB,EAAwC,KAAxC,CAA7G,EAA6JvD,eAAe,CAACsE,sBAAD,EAAyBd,eAAzB,EAA0C,MAA1C,CAA5K,EAA+NxD,eAAe,CAACsE,sBAAD,EAAyBb,gBAAzB,EAA2C,KAA3C,CAA9O,EAAiSa,sBAAlS,EAA0TF,aAA1T,CAAjC;AACA,MAAIS,MAAM,GAAG,CAACF,iBAAD,EAAoB,qBAApB,EAA2CG,MAA3C,CAAkD,UAAUC,CAAV,EAAaC,IAAb,EAAmB;AAChF,WAAO9C,aAAa,CAACA,aAAa,CAAC,EAAD,EAAK6C,CAAL,CAAd,EAAuB,EAAvB,EAA2B/E,eAAe,CAAC,EAAD,EAAKgF,IAAL,EAAWC,MAAM,CAAC,CAAC,eAAeC,IAAf,CAAoBX,UAAU,CAACY,gBAAX,CAA4BH,IAA5B,CAApB,KAA0D,EAA3D,EAA+D,CAA/D,CAAD,CAAjB,CAA1C,CAApB;AACD,GAFY,EAEV,EAFU,CAAb;AAGAH,EAAAA,MAAM,CAACF,iBAAD,CAAN,GAA4BE,MAAM,CAACF,iBAAD,CAAN,IAA6B,CAAC,CAA1D,CATkE,CASL;;AAE7D,MAAIjD,MAAM,CAACD,IAAP,CAAYoD,MAAZ,EAAoBO,KAApB,CAA0B,UAAUJ,IAAV,EAAgB;AAC5C,WAAO,CAACK,KAAK,CAACR,MAAM,CAACG,IAAD,CAAP,CAAb;AACD,GAFG,CAAJ,EAEI;AACF,QAAIM,aAAa,GAAGT,MAAM,CAACF,iBAAD,CAA1B;AAAA,QACIY,iBAAiB,GAAGV,MAAM,CAAC,qBAAD,CAD9B;AAEA,WAAO7E,eAAe,CAAC;AACrBwF,MAAAA,IAAI,EAAE,CADe;AAErBC,MAAAA,GAAG,EAAE;AAFgB,KAAD,EAGnBb,0BAHmB,EAGSc,IAAI,CAACC,IAAL,CAAUD,IAAI,CAACE,GAAL,CAASL,iBAAT,EAA4B,CAA5B,IAAiC,CAA3C,IAAgDD,aAHzD,CAAtB;AAID;AACF,CArBD;;AAuBA,IAAIO,OAAO,GAAG,aAAa,UAAUC,UAAV,EAAsB;AAC/CjG,EAAAA,SAAS,CAACgG,OAAD,EAAUC,UAAV,CAAT;;AAEA,MAAIC,MAAM,GAAG7F,YAAY,CAAC2F,OAAD,CAAzB;;AAEA,WAASA,OAAT,CAAiBG,KAAjB,EAAwB;AACtB,QAAIC,KAAJ;;AAEAvG,IAAAA,eAAe,CAAC,IAAD,EAAOmG,OAAP,CAAf;;AAEAI,IAAAA,KAAK,GAAGF,MAAM,CAAC3E,IAAP,CAAY,IAAZ,EAAkB4E,KAAlB,CAAR;;AAEAhG,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,YAAhC,EAA8C,IAA9C,CAAf;;AAEAjG,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,aAAhC,EAA+C,aAAarD,KAAK,CAACsD,SAAN,EAA5D,CAAf;;AAEAlG,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,YAAhC,EAA8CA,KAAK,CAACD,KAAN,CAAYG,EAAZ,IAAkBF,KAAK,CAACD,KAAN,CAAYI,SAA9B,IAA2C,oBAAoBC,MAApB,CAA2BX,IAAI,CAACY,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,CAA3B,CAAzF,CAAf;;AAEAxG,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,mBAAhC,EAAqD,KAArD,CAAf;;AAEAjG,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,mBAAhC,EAAqD,UAAUQ,MAAV,EAAkB;AACpF,UAAIR,KAAK,CAACD,KAAN,CAAYU,eAAhB,EAAiC;AAC/B,YAAIC,cAAc,GAAGV,KAAK,CAACW,gBAAN,CAAuBH,MAAvB,CAArB;;AAEA,YAAII,SAAS,GAAGF,cAAc,CAACE,SAA/B;AAAA,YACIC,KAAK,GAAGH,cAAc,CAACG,KAD3B;;AAGA,YAAID,SAAS,KAAKZ,KAAK,CAACc,KAAN,CAAYC,eAA9B,EAA+C;AAC7Cf,UAAAA,KAAK,CAACgB,QAAN,CAAe;AACbC,YAAAA,IAAI,EAAE;AADO,WAAf,EAEG,YAAY;AACbjB,YAAAA,KAAK,CAACgB,QAAN,CAAe;AACbC,cAAAA,IAAI,EAAE,IADO;AAEbF,cAAAA,eAAe,EAAEH;AAFJ,aAAf;AAID,WAPD;AAQD;;AAED,YAAIC,KAAK,KAAK,UAAd,EAA0B;AACxBb,UAAAA,KAAK,CAACgB,QAAN,CAAe;AACbE,YAAAA,WAAW,EAAElB,KAAK,CAACD,KAAN,CAAYc;AADZ,WAAf;AAGD,SAJD,MAIO;AACLb,UAAAA,KAAK,CAACgB,QAAN,CAAe;AACbE,YAAAA,WAAW,EAAEL;AADA,WAAf;AAGD;AACF;AACF,KA5Bc,CAAf;;AA8BA9G,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,kBAAhC,EAAoD,UAAUmB,KAAV,EAAiB;AAClF,UAAIC,QAAQ,GAAGD,KAAK,CAACC,QAArB;AAAA,UACIC,iBAAiB,GAAGF,KAAK,CAACG,WAD9B;AAAA,UAEIA,WAAW,GAAGD,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,EAA/B,GAAoCA,iBAFtD;AAAA,UAGIE,YAAY,GAAGJ,KAAK,CAACK,MAHzB;AAAA,UAIIA,MAAM,GAAGD,YAAY,KAAK,KAAK,CAAtB,GAA0B,EAA1B,GAA+BA,YAJ5C;AAAA,UAKIE,eAAe,GAAGN,KAAK,CAACP,SAL5B;AAAA,UAMIA,SAAS,GAAGa,eAAe,KAAK,KAAK,CAAzB,GAA6BjE,gBAA7B,GAAgDiE,eANhE;AAAA,UAOIC,aAAa,GAAGP,KAAK,CAACQ,OAP1B;AAAA,UAQIC,WAAW,GAAGF,aAAa,KAAK,KAAK,CAAvB,GAA2B,CAA3B,GAA+BA,aARjD;AAAA,UASIG,aAAa,GAAGV,KAAK,CAACW,OAT1B;AAAA,UAUIC,WAAW,GAAGF,aAAa,KAAK,KAAK,CAAvB,GAA2B,CAA3B,GAA+BA,aAVjD;AAAA,UAWIG,SAAS,GAAGb,KAAK,CAACa,SAXtB;AAYA,UAAIC,iBAAiB,GAAGX,WAAW,CAAC/B,IAApC;AAAA,UACI2C,OAAO,GAAGD,iBAAiB,KAAK,KAAK,CAA3B,GAA+B,CAA/B,GAAmCA,iBADjD;AAAA,UAEIE,gBAAgB,GAAGb,WAAW,CAAC9B,GAFnC;AAAA,UAGI4C,MAAM,GAAGD,gBAAgB,KAAK,KAAK,CAA1B,GAA8B,CAA9B,GAAkCA,gBAH/C;AAAA,UAIIE,kBAAkB,GAAGf,WAAW,CAACgB,KAJrC;AAAA,UAKIC,QAAQ,GAAGF,kBAAkB,KAAK,KAAK,CAA5B,GAAgC,CAAhC,GAAoCA,kBALnD;AAAA,UAMIG,mBAAmB,GAAGlB,WAAW,CAACmB,MANtC;AAAA,UAOIC,SAAS,GAAGF,mBAAmB,KAAK,KAAK,CAA7B,GAAiC,CAAjC,GAAqCA,mBAPrD;AAQA,UAAIb,OAAO,GAAGK,SAAS,CAACW,QAAV,KAAuB,QAAvB,GAAkC,CAAlC,GAAsCf,WAApD;AACA,UAAIE,OAAO,GAAGE,SAAS,CAACW,QAAV,KAAuB,QAAvB,GAAkC,CAAlC,GAAsCZ,WAApD;AACA,UAAIa,YAAY,GAAG;AACjBpD,QAAAA,GAAG,EAAEwC,SAAS,CAACW,QAAV,KAAuB,QAAvB,GAAkCX,SAAS,CAACa,IAAV,CAAerD,GAAjD,GAAuD,CAD3C;AAEjBD,QAAAA,IAAI,EAAEyC,SAAS,CAACW,QAAV,KAAuB,QAAvB,GAAkCX,SAAS,CAACa,IAAV,CAAetD,IAAjD,GAAwD;AAF7C,OAAnB;AAIA,UAAIuD,KAAK,GAAG1B,QAAQ,CAAC0B,KAArB;AAAA,UACIC,MAAM,GAAG3B,QAAQ,CAAC2B,MADtB;AAEA,UAAIC,WAAW,GAAGxB,MAAM,CAAChC,GAAzB;AAAA,UACIA,GAAG,GAAGwD,WAAW,KAAK,KAAK,CAArB,GAAyB,CAAzB,GAA6BA,WADvC;AAAA,UAEIC,YAAY,GAAGzB,MAAM,CAACjC,IAF1B;AAAA,UAGIA,IAAI,GAAG0D,YAAY,KAAK,KAAK,CAAtB,GAA0B,CAA1B,GAA8BA,YAHzC;AAIA,UAAIC,mBAAmB,GAAG,CAAChB,OAAO,GAAGK,QAAX,IAAuB,CAAjD;AACA,UAAIY,iBAAiB,GAAG,CAACf,MAAM,GAAGM,SAAV,IAAuB,CAA/C,CAlCkF,CAkChC;AAClD;AACA;AACA;;AAEA,UAAIU,YAAY,GAAG,SAASA,YAAT,GAAwB;AACzC,gBAAQxC,SAAR;AACE,eAAKvD,cAAL;AACE,mBAAO6E,OAAO,GAAGY,KAAV,GAAkBnB,OAAlB,GAA4BpC,IAA5B,GAAmCqD,YAAY,CAACrD,IAAhD,GAAuD,CAAvD,GAA2DhC,eAA3D,GAA6EqD,SAApF;;AAEF,eAAKtD,aAAL;AACE,mBAAO8E,MAAM,GAAGW,MAAT,GAAkBjB,OAAlB,GAA4BtC,GAA5B,GAAkCoD,YAAY,CAACpD,GAA/C,GAAqD,CAArD,GAAyDhC,gBAAzD,GAA4EoD,SAAnF;;AAEF,eAAKrD,eAAL;AACE,mBAAOgF,QAAQ,GAAGZ,OAAX,GAAqBpC,IAArB,GAA4BqD,YAAY,CAACrD,IAAzC,GAAgDuD,KAAhD,GAAwDd,SAAS,CAACa,IAAV,CAAeC,KAAvE,GAA+EzF,cAA/E,GAAgGuD,SAAvG;;AAEF,eAAKpD,gBAAL;AACE,mBAAOkF,SAAS,GAAGZ,OAAZ,GAAsBtC,GAAtB,GAA4BoD,YAAY,CAACpD,GAAzC,GAA+CuD,MAA/C,GAAwDf,SAAS,CAACa,IAAV,CAAeE,MAAvE,GAAgFzF,aAAhF,GAAgGsD,SAAvG;;AAEF;AACE;AACA,mBAAOA,SAAP;AAfJ;AAiBD,OAlBD,CAvCkF,CAyD/E;AACH;AACA;AACA;AACA;;;AAGA,UAAIyC,YAAY,GAAG,SAASA,YAAT,GAAwB;AACzC,gBAAQzC,SAAR;AACE,eAAKvD,cAAL;AACA,eAAKE,eAAL;AACE,gBAAI4F,iBAAiB,GAAGJ,MAAM,GAAG,CAA7B,GAAiCjB,OAAjC,GAA2CtC,GAA3C,GAAiD,CAAjD,GAAqDoD,YAAY,CAACpD,GAAlE,GAAwE,CAA5E,EAA+E;AAC7E;AACA,qBAAO,OAAP;AACD,aAHD,MAGO,IAAI2D,iBAAiB,GAAGJ,MAAM,GAAG,CAA7B,GAAiCjB,OAAjC,GAA2CtC,GAA3C,GAAiD,CAAjD,GAAqDoD,YAAY,CAACpD,GAAlE,GAAwEuD,MAAxE,GAAiFf,SAAS,CAACa,IAAV,CAAeE,MAApG,EAA4G;AACjH;AACA,qBAAO,KAAP;AACD,aAHM,MAGA;AACL;AACA,qBAAO,UAAP;AACD;;AAEH,eAAKzF,aAAL;AACA,eAAKE,gBAAL;AACE,gBAAI0F,mBAAmB,GAAGJ,KAAK,GAAG,CAA9B,GAAkCnB,OAAlC,GAA4CpC,IAA5C,GAAmDqD,YAAY,CAACrD,IAAhE,GAAuE,CAA3E,EAA8E;AAC5E;AACA,qBAAO,OAAP;AACD,aAHD,MAGO,IAAI2D,mBAAmB,GAAGJ,KAAK,GAAG,CAA9B,GAAkCnB,OAAlC,GAA4CpC,IAA5C,GAAmDqD,YAAY,CAACrD,IAAhE,GAAuEuD,KAAvE,GAA+Ed,SAAS,CAACa,IAAV,CAAeC,KAAlG,EAAyG;AAC9G;AACA,qBAAO,KAAP;AACD,aAHM,MAGA;AACL;AACA,qBAAO,UAAP;AACD;;AAEH;AACE;AACA,mBAAO,UAAP;AA7BJ;AA+BD,OAhCD;;AAkCA,aAAO;AACLlC,QAAAA,SAAS,EAAEwC,YAAY,EADlB;AAELvC,QAAAA,KAAK,EAAEwC,YAAY;AAFd,OAAP;AAID,KAtGc,CAAf;;AAwGAtJ,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,2BAAhC,EAA6D,UAAUsD,KAAV,EAAiBC,KAAjB,EAAwB;AAClG,UAAItC,IAAI,GAAGsC,KAAK,CAACtC,IAAjB;;AAEA,UAAIjB,KAAK,CAACwD,YAAN,IAAsBxD,KAAK,CAACD,KAAN,CAAY0D,QAAtC,EAAgD;AAC9C;AACAzD,QAAAA,KAAK,CAACD,KAAN,CAAY0D,QAAZ,CAAqBH,KAArB,EAA4B;AAC1BrC,UAAAA,IAAI,EAAEA;AADoB,SAA5B;;AAIA;AACD,OAViG,CAUhG;;;AAGF,UAAIyC,WAAW,GAAG1D,KAAK,CAAC2D,UAAxB;;AAEA3D,MAAAA,KAAK,CAACgB,QAAN,CAAe;AACbC,QAAAA,IAAI,EAAEA;AADO,OAAf,EAEG,YAAY;AACb,YAAIjB,KAAK,CAACD,KAAN,CAAY0D,QAAhB,EAA0B;AACxBzD,UAAAA,KAAK,CAACD,KAAN,CAAY0D,QAAZ,CAAqBH,KAArB,EAA4B;AAC1BrC,YAAAA,IAAI,EAAEA;AADoB,WAA5B;AAGD;;AAED,YAAI,CAACA,IAAD,IAASyC,WAAT,IAAwBA,WAAW,CAACxD,EAAZ,KAAmBF,KAAK,CAAC4D,UAArD,EAAiE;AAC/D5D,UAAAA,KAAK,CAAC6D,iBAAN,GAA0B,IAA1B;AACA,cAAIC,iBAAiB,GAAGR,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACS,aAA5E;;AAEA,cAAI,CAACD,iBAAD,IAAsBE,QAAQ,CAACC,aAAT,KAA2BD,QAAQ,CAACE,IAA1D,IAAkE,CAACZ,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqC,KAAK,CAA1C,GAA8CA,KAAK,CAACa,IAArD,MAA+D,OAArI,EAA8I;AAC5I,gBAAIC,iBAAJ;;AAEA,aAACA,iBAAiB,GAAGpE,KAAK,CAACqE,WAA3B,MAA4C,IAA5C,IAAoDD,iBAAiB,KAAK,KAAK,CAA/E,GAAmF,KAAK,CAAxF,GAA4FA,iBAAiB,CAACE,OAAlB,CAA0BC,KAA1B,EAA5F;AACD;AACF;AACF,OAnBD;AAoBD,KAnCc,CAAf;;AAqCAxK,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,cAAhC,EAAgD,UAAUc,KAAV,EAAiB0D,GAAjB,EAAsB;AACnF,UAAIC,aAAa,GAAGD,GAAG,CAACC,aAAxB;AAAA,UACIV,aAAa,GAAGS,GAAG,CAACT,aADxB;;AAGA,UAAIU,aAAa,KAAKV,aAAtB,EAAqC;AACnC/D,QAAAA,KAAK,CAAC6D,iBAAN,GAA0B,KAA1B;AACD;;AAED,UAAI/C,KAAK,KAAK,MAAd,EAAsB;AACpB,YAAI,CAACd,KAAK,CAAC6D,iBAAX,EAA8B;AAC5B7D,UAAAA,KAAK,CAAC0E,yBAAN,CAAgCF,GAAhC,EAAqC;AACnCvD,YAAAA,IAAI,EAAE;AAD6B,WAArC;AAGD;;AAEDjB,QAAAA,KAAK,CAAC6D,iBAAN,GAA0B,KAA1B;AACD,OARD,MAQO,IAAI/C,KAAK,KAAK,KAAd,EAAqB;AAC1B;AACA,YAAI6D,SAAS,GAAG3E,KAAK,CAACqE,WAAN,CAAkBC,OAAlC;;AAEA,YAAIM,kBAAkB,GAAGb,aAAa,KAAKY,SAAS,KAAKA,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAACE,QAAV,CAAmBd,aAAnB,CAA3D,CAAT,IAA0G/D,KAAK,CAAC2D,UAAN,IAAoB3D,KAAK,CAAC2D,UAAN,CAAiBkB,QAAjB,CAA0Bd,aAA1B,CAAnI,CAAtC;;AAEA,YAAI,CAACa,kBAAL,EAAyB;AACvB5E,UAAAA,KAAK,CAAC0E,yBAAN,CAAgCF,GAAhC,EAAqC;AACnCvD,YAAAA,IAAI,EAAE;AAD6B,WAArC;AAGD;AACF;AACF,KA5Bc,CAAf;;AA8BAlH,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,uBAAhC,EAAyD,IAAzD,CAAf;;AAEAjG,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,YAAhC,EAA8C,YAAY;AACvE,UAAI2E,SAAS,GAAG3E,KAAK,CAACqE,WAAN,CAAkBC,OAAlC;AACA,aAAOK,SAAS,IAAIA,SAAS,CAACG,OAAV,CAAkB,gCAAlB,CAAb,IAAoEd,QAAQ,CAACE,IAApF;AACD,KAHc,CAAf;;AAKAnK,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,aAAhC,EAA+C,UAAUwE,GAAV,EAAe;AAC3EA,MAAAA,GAAG,CAACO,OAAJ;AACA,UAAIjE,KAAK,GAAG;AACVyD,QAAAA,KAAK,EAAE,MADG;AAEVS,QAAAA,IAAI,EAAE,KAFI;AAGVC,QAAAA,KAAK,EAAE;AAHG,QAIVT,GAAG,CAACL,IAJM,CAAZ;AAKA,UAAIe,cAAc,GAAGlF,KAAK,CAACmF,eAA3B;;AAEA,UAAIX,GAAG,CAACL,IAAJ,KAAa,OAAb,IAAwBK,GAAG,CAACL,IAAJ,KAAa,aAAzC,EAAwD;AACtDnE,QAAAA,KAAK,CAACmF,eAAN,GAAwBX,GAAG,CAACL,IAAJ,KAAa,aAArC;AACD;;AAED,UAAInE,KAAK,CAACmF,eAAV,EAA2B;AACzBnF,QAAAA,KAAK,CAAC0E,yBAAN,CAAgCF,GAAhC,EAAqC;AACnCvD,UAAAA,IAAI,EAAE;AAD6B,SAArC;;AAIA;AACD;;AAED,UAAIH,KAAK,KAAK,OAAd,EAAuB;AACrB0D,QAAAA,GAAG,CAACY,cAAJ;AACA,YAAIC,UAAU,GAAGrF,KAAK,CAACwD,YAAN,GAAqB,CAACxD,KAAK,CAACD,KAAN,CAAYkB,IAAlC,GAAyC,CAACjB,KAAK,CAACc,KAAN,CAAYG,IAAvE;;AAEAjB,QAAAA,KAAK,CAAC0E,yBAAN,CAAgCF,GAAhC,EAAqC;AACnCvD,UAAAA,IAAI,EAAEoE;AAD6B,SAArC;AAGD,OAPD,MAOO,IAAIvE,KAAK,KAAKA,KAAK,KAAK,KAAV,IAAmB,CAACoE,cAAzB,CAAT,EAAmD;AACxD,YAAII,qBAAJ;;AAEA,SAACA,qBAAqB,GAAG3L,sBAAsB,CAACqG,KAAD,CAA/C,MAA4D,IAA5D,IAAoEsF,qBAAqB,KAAK,KAAK,CAAnG,GAAuG,KAAK,CAA5G,GAAgHA,qBAAqB,CAACC,qBAAtB,CAA4CzE,KAA5C,EAAmD0D,GAAnD,CAAhH;AACD;AACF,KAjCc,CAAf;;AAmCAzK,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,oBAAhC,EAAsD,UAAUwE,GAAV,EAAe;AAClF,UAAII,kBAAkB,GAAGJ,GAAG,IAAIA,GAAG,CAACtI,MAAX,IAAqB8D,KAAK,CAAC2D,UAA3B,IAAyC3D,KAAK,CAAC2D,UAAN,CAAiBkB,QAAjB,CAA0BL,GAAG,CAACtI,MAA9B,CAAlE;;AAEA,UAAI,CAAC0I,kBAAD,IAAuB5E,KAAK,CAACc,KAAN,CAAYG,IAAvC,EAA6C;AAC3CjB,QAAAA,KAAK,CAAC0E,yBAAN,CAAgCF,GAAhC,EAAqC;AACnCvD,UAAAA,IAAI,EAAE;AAD6B,SAArC;AAGD;AACF,KARc,CAAf;;AAUAlH,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,gBAAhC,EAAkD,UAAUsD,KAAV,EAAiB;AAChF,UAAI1F,YAAY,CAAC0F,KAAD,EAAQ,CAAC9H,IAAI,CAACgK,MAAN,EAAchK,IAAI,CAACiK,GAAnB,CAAR,CAAhB,EAAkD;AAChDnC,QAAAA,KAAK,CAACoC,eAAN;;AAEA1F,QAAAA,KAAK,CAAC0E,yBAAN,CAAgCpB,KAAhC,EAAuC;AACrCrC,UAAAA,IAAI,EAAE;AAD+B,SAAvC;AAGD;;AAED,UAAIrD,YAAY,CAAC0F,KAAD,EAAQ,CAAC9H,IAAI,CAACmK,KAAN,EAAanK,IAAI,CAACoK,KAAlB,CAAR,CAAhB,EAAmD;AACjDtC,QAAAA,KAAK,CAACoC,eAAN;AACApC,QAAAA,KAAK,CAAC8B,cAAN;AACA,YAAIC,UAAU,GAAGrF,KAAK,CAACwD,YAAN,GAAqB,CAACxD,KAAK,CAACD,KAAN,CAAYkB,IAAlC,GAAyC,CAACjB,KAAK,CAACc,KAAN,CAAYG,IAAvE;;AAEAjB,QAAAA,KAAK,CAAC0E,yBAAN,CAAgCpB,KAAhC,EAAuC;AACrCrC,UAAAA,IAAI,EAAEoE;AAD+B,SAAvC;AAGD;AACF,KAlBc,CAAf;;AAoBAtL,IAAAA,eAAe,CAACJ,sBAAsB,CAACqG,KAAD,CAAvB,EAAgC,mBAAhC,EAAqD,UAAUsD,KAAV,EAAiB;AACnF,UAAIuC,KAAK,GAAG7F,KAAK,CAACwD,YAAN,GAAqBxD,KAAK,CAACD,KAA3B,GAAmCC,KAAK,CAACc,KAArD;AAAA,UACIG,IAAI,GAAG4E,KAAK,CAAC5E,IADjB;;AAGA,UAAIA,IAAI,IAAIrD,YAAY,CAAC0F,KAAD,EAAQ,CAAC9H,IAAI,CAACgK,MAAN,CAAR,CAAxB,EAAgD;AAC9ClC,QAAAA,KAAK,CAACoC,eAAN;AACA,eAAO1F,KAAK,CAAC0E,yBAAN,CAAgCpB,KAAhC,EAAuC;AAC5CrC,UAAAA,IAAI,EAAE;AADsC,SAAvC,CAAP;AAGD;AACF,KAVc,CAAf;;AAYAjB,IAAAA,KAAK,CAACwD,YAAN,GAAqBzD,KAAK,CAACkB,IAAN,KAAe6E,SAApC;;AAEA,QAAI/H,2BAA2B,IAAIiC,KAAK,CAACwD,YAAzC,EAAuD;AACrD;AACA,aAAO3J,0BAA0B,CAACmG,KAAD,CAAjC;AACD;;AAED,QAAI+F,KAAK,GAAGhI,2BAA2B,GAAGgC,KAAK,CAACiG,WAAT,GAAuBjG,KAAK,CAACkB,IAApE;;AAEAjB,IAAAA,KAAK,CAACc,KAAN,GAAc;AACZG,MAAAA,IAAI,EAAE8E,KADM;AAEZhF,MAAAA,eAAe,EAAEhB,KAAK,CAACa,SAFX;AAGZM,MAAAA,WAAW,EAAEnB,KAAK,CAACc;AAHP,KAAd;AAKA,WAAOb,KAAP;AACD;;AAEDtG,EAAAA,YAAY,CAACkG,OAAD,EAAU,CAAC;AACrBrD,IAAAA,GAAG,EAAE,mBADgB;AAErB0J,IAAAA,KAAK,EAAE,SAASC,iBAAT,GAA6B;AAClC,UAAI,CAAC,KAAKX,qBAAV,EAAiC;AAC/B,aAAKA,qBAAL,GAA6BxI,QAAQ,CAAC,KAAKoJ,YAAN,EAAoB,GAApB,CAArC;AACD;;AAEDnC,MAAAA,QAAQ,CAACoC,gBAAT,CAA0B,SAA1B,EAAqC,KAAKC,iBAA1C,EAA6D,KAA7D;AACD;AARoB,GAAD,EASnB;AACD9J,IAAAA,GAAG,EAAE,oBADJ;AAED0J,IAAAA,KAAK,EAAE,SAASK,kBAAT,CAA4BC,SAA5B,EAAuCC,SAAvC,EAAkD;AACvD,UAAID,SAAS,CAAC3F,SAAV,IAAuB,KAAKb,KAAL,CAAWa,SAAtC,EAAiD;AAC/C,aAAKI,QAAL,CAAc;AACZD,UAAAA,eAAe,EAAE,KAAKhB,KAAL,CAAWa;AADhB,SAAd;AAGD;;AAED,UAAI2F,SAAS,CAAC1F,KAAV,IAAmB,KAAKd,KAAL,CAAWc,KAAlC,EAAyC;AACvC,aAAKG,QAAL,CAAc;AACZE,UAAAA,WAAW,EAAE,KAAKnB,KAAL,CAAWc;AADZ,SAAd;AAGD;;AAED,UAAI2F,SAAS,CAACvF,IAAV,IAAkB,CAAC,KAAKH,KAAL,CAAWG,IAAlC,EAAwC;AACtC;AACA,aAAKD,QAAL,CAAc;AACZD,UAAAA,eAAe,EAAE,KAAKhB,KAAL,CAAWa,SADhB;AAEZM,UAAAA,WAAW,EAAE,KAAKnB,KAAL,CAAWc;AAFZ,SAAd;AAID;AACF;AAtBA,GATmB,EAgCnB;AACDtE,IAAAA,GAAG,EAAE,sBADJ;AAED0J,IAAAA,KAAK,EAAE,SAASQ,oBAAT,GAAgC;AACrC,UAAI,KAAKlB,qBAAT,EAAgC;AAC9B,aAAKA,qBAAL,CAA2BmB,MAA3B;;AAEA,aAAKnB,qBAAL,GAA6B,IAA7B;AACD;;AAEDvB,MAAAA,QAAQ,CAAC2C,mBAAT,CAA6B,SAA7B,EAAwC,KAAKN,iBAA7C,EAAgE,KAAhE;AACD;AAVA,GAhCmB,EA2CnB;AACD9J,IAAAA,GAAG,EAAE,QADJ;AAED0J,IAAAA,KAAK,EAAE,SAASW,MAAT,GAAkB;AACvB,UAAIC,WAAJ;AAAA,UACIC,MAAM,GAAG,IADb;;AAGA,UAAIC,WAAW,GAAG,KAAKhH,KAAvB;AAAA,UACIiH,qBAAqB,GAAGD,WAAW,CAACE,SADxC;AAAA,UAEIA,SAAS,GAAGD,qBAAqB,KAAK,KAAK,CAA/B,GAAmC,KAAKC,SAAL,GAAiB,KAAKA,SAAL,IAAkB,4BAA4B7G,MAA5B,CAAmCX,IAAI,CAACY,MAAL,GAAcC,QAAd,CAAuB,EAAvB,EAA2BC,MAA3B,CAAkC,CAAlC,CAAnC,CAAtE,GAAiJyG,qBAFjK;AAAA,UAGIE,aAAa,GAAGH,WAAW,CAACG,aAHhC;AAAA,UAIIC,QAAQ,GAAGJ,WAAW,CAACI,QAJ3B;AAAA,UAKIC,SAAS,GAAGL,WAAW,CAACK,SAL5B;AAAA,UAMIC,gBAAgB,GAAGN,WAAW,CAACM,gBANnC;AAAA,UAOIC,SAAS,GAAGP,WAAW,CAACO,SAP5B;AAAA,UAQIC,WAAW,GAAGR,WAAW,CAACQ,WAR9B;AAAA,UASIC,QAAQ,GAAGT,WAAW,CAACS,QAT3B;AAAA,UAUIC,QAAQ,GAAGV,WAAW,CAACU,QAV3B;AAAA,UAWIC,eAAe,GAAGX,WAAW,CAACW,eAXlC;AAAA,UAYIC,iBAAiB,GAAGZ,WAAW,CAACa,UAZpC;AAAA,UAaIC,UAAU,GAAGd,WAAW,CAACc,UAb7B;AAAA,UAcIC,oBAAoB,GAAGf,WAAW,CAACgB,QAdvC;AAAA,UAeIA,QAAQ,GAAGD,oBAAoB,KAAK,KAAK,CAA9B,GAAkC,CAAlC,GAAsCA,oBAfrD;AAAA,UAgBIE,GAAG,GAAGjB,WAAW,CAACkB,QAhBtB;AAAA,UAiBIC,oBAAoB,GAAGnB,WAAW,CAACmB,oBAjBvC;AAAA,UAkBI/H,SAAS,GAAG4G,WAAW,CAAC5G,SAlB5B;AAAA,UAmBIgI,KAAK,GAAG3O,wBAAwB,CAACuN,WAAD,EAAc/M,SAAd,CAnBpC;;AAqBA,UAAIoO,KAAK,GAAG,KAAK5E,YAAL,GAAoB,KAAKzD,KAAzB,GAAiC,KAAKe,KAAlD;AAAA,UACIG,IAAI,GAAGmH,KAAK,CAACnH,IADjB;;AAGA,UAAIoH,WAAW,GAAG,KAAKvH,KAAvB;AAAA,UACIC,eAAe,GAAGsH,WAAW,CAACtH,eADlC;AAAA,UAEIG,WAAW,GAAGmH,WAAW,CAACnH,WAF9B;AAGA,UAAIoH,cAAc,GAAGtL,UAAU,CAAC,GAAGoD,MAAH,CAAUpC,MAAV,EAAkB,WAAlB,CAAD,GAAkC6I,WAAW,GAAG,EAAd,EAAkB9M,eAAe,CAAC8M,WAAD,EAAc,GAAGzG,MAAH,CAAUpC,MAAV,EAAkB,kBAAlB,CAAd,EAAqDiD,IAArD,CAAjC,EAA6FlH,eAAe,CAAC8M,WAAD,EAAc,GAAGzG,MAAH,CAAUpC,MAAV,EAAkB,aAAlB,EAAiCoC,MAAjC,CAAwCW,eAAxC,CAAd,EAAwEA,eAAxE,CAA5G,EAAsMhH,eAAe,CAAC8M,WAAD,EAAc,GAAGzG,MAAH,CAAUpC,MAAV,EAAkB,mBAAlB,EAAuCoC,MAAvC,CAA8Cc,WAA9C,CAAd,EAA0EA,WAA1E,CAArN,EAA6S2F,WAA/U,GAA6VO,SAA7V,CAA/B;AACA,UAAImB,cAAc,GAAGvL,UAAU,CAAC,GAAGoD,MAAH,CAAUpC,MAAV,EAAkB,kBAAlB,CAAD,EAAwCqJ,gBAAxC,CAA/B;AACA,UAAImB,OAAO,GAAG9K,SAAS,CAAC,KAAK2G,WAAN,EAAmB2D,GAAnB,CAAvB;AACA,UAAIS,cAAc,GAAG;AACnB1J,QAAAA,IAAI,EAAE0I,QADa;AAEnBiB,QAAAA,IAAI,EAAE,IAFa;AAGnBC,QAAAA,WAAW,EAAE;AAHM,OAArB;;AAMA,UAAIC,UAAU,GAAG3M,aAAa,CAAC;AAC7ByM,QAAAA,IAAI,EAAE,QADuB;AAE7BX,QAAAA,QAAQ,EAAEA,QAFmB;AAG7Bc,QAAAA,OAAO,EAAE,KAAKC,WAHe;AAI7BC,QAAAA,aAAa,EAAE,KAAKD,WAJS;AAK7BE,QAAAA,SAAS,EAAE,KAAKC,cALa;AAM7BC,QAAAA,WAAW,EAAE,KAAKJ,WANW;AAO7BK,QAAAA,UAAU,EAAE,KAAKL,WAPY;AAQ7BM,QAAAA,OAAO,EAAE,KAAKN,WARe;AAS7BO,QAAAA,MAAM,EAAE,KAAKP,WATgB;AAU7B,yBAAiB,CAAC7H,IAAD,GAAQ6E,SAAR,GAAoB,KAAKlC,UAVb;AAW7B,yBAAiB3C,IAXY;AAY7B,4BAAoBA,IAAI,GAAG,KAAK2C,UAAR,GAAqB;AAZhB,OAAD,EAa3B2D,WAAW,GAAG;AACf,2BAAmBN;AADJ,OAAH,GAEV;AACF,sBAAcS;AADZ,OAf0B,CAA9B;;AAmBA,aAAO,aAAa/K,KAAK,CAAC2M,aAAN,CAAoB3M,KAAK,CAAC4M,QAA1B,EAAoC,IAApC,EAA0C,aAAa5M,KAAK,CAAC2M,aAAN,CAAoB7L,aAApB,EAAmC;AAC5G+L,QAAAA,cAAc,EAAE,KAAKC;AADuF,OAAnC,EAExEjC,QAAQ,GAAG,aAAa7K,KAAK,CAAC2M,aAAN,CAAoB,KAApB,EAA2B;AACpDpJ,QAAAA,EAAE,EAAE+G,SADgD;AAEpDG,QAAAA,SAAS,EAAEmB;AAFyC,OAA3B,EAGxBhB,WAHwB,EAGX,aAAa5K,KAAK,CAAC2M,aAAN,CAAoB,KAApB,EAA2B/P,QAAQ,CAAC;AAC/D6N,QAAAA,SAAS,EAAE,GAAGhH,MAAH,CAAUpC,MAAV,EAAkB,oBAAlB;AADoD,OAAD,EAE7D4K,UAF6D,EAEjD;AACbZ,QAAAA,GAAG,EAAEQ,OADQ;AAEb,4BAAoBtB;AAFP,OAFiD,CAAnC,EAKzB,aAAavK,KAAK,CAAC2M,aAAN,CAAoB3B,iBAApB,EAAuCc,cAAvC,CALY,CAHF,CAAhB,GAQiE,aAAa9L,KAAK,CAAC2M,aAAN,CAAoB,KAApB,EAA2B/P,QAAQ,CAAC;AAC3H2G,QAAAA,EAAE,EAAE+G,SADuH;AAE3HG,QAAAA,SAAS,EAAEmB,cAFgH;AAG3HP,QAAAA,GAAG,EAAEQ;AAHsH,OAAD,EAIzHI,UAJyH,EAI7G;AACb,4BAAoB1B;AADP,OAJ6G,CAAnC,EAMrFK,WANqF,CAVd,CAAvD,EAgBDtG,IAAI,IAAI,aAAatE,KAAK,CAAC2M,aAAN,CAAoBlM,YAApB,EAAkC;AACxEkK,QAAAA,SAAS,EAAEA,SAD6D;AAExEY,QAAAA,oBAAoB,EAAE,KAAKnI,KAAL,CAAWmI,oBAFuC;AAGxEhM,QAAAA,MAAM,EAAE,KAAKwN,UAH2D;AAIxEC,QAAAA,UAAU,EAAE,KAAKtF,WAJuD;AAKxElG,QAAAA,aAAa,EAAE4C,eALyD;AAMxE8G,QAAAA,UAAU,EAAEA,UAN4D;AAOxE+B,QAAAA,OAAO,EAAE,SAASA,OAAT,CAAiBC,IAAjB,EAAuB;AAC9B/C,UAAAA,MAAM,CAACnD,UAAP,GAAoBkG,IAApB;AACD,SATuE;AAUxEC,QAAAA,iBAAiB,EAAE,KAAKA;AAVgD,OAAlC,EAWrC,aAAanN,KAAK,CAAC2M,aAAN,CAAoB,KAApB,EAA2B/P,QAAQ,CAAC;AAClD6N,QAAAA,SAAS,EAAEkB,cADuC;AAElDU,QAAAA,SAAS,EAAE,SAASA,SAAT,CAAmB1F,KAAnB,EAA0B;AACnC,cAAI1F,YAAY,CAAC0F,KAAD,EAAQ,CAAC9H,IAAI,CAACgK,MAAN,CAAR,CAAhB,EAAwC;AACtClC,YAAAA,KAAK,CAACoC,eAAN;AACD;AACF;AANiD,OAAD,EAOhDyC,KAPgD,EAOzC;AACRjI,QAAAA,EAAE,EAAE,KAAK0D,UADD;AAER,wCAAgC7C,eAFxB;AAGRmI,QAAAA,WAAW,EAAE,KAAKJ,WAHV;AAIRK,QAAAA,UAAU,EAAE,KAAKL,WAJT;AAKRM,QAAAA,OAAO,EAAE,KAAKN,WALN;AAMRO,QAAAA,MAAM,EAAE,KAAKP,WANL;AAORC,QAAAA,aAAa,EAAE,KAAKD;AAPZ,OAPyC,CAAnC,EAeZ,aAAanM,KAAK,CAAC2M,aAAN,CAAoB,MAApB,EAA4B;AAC3ClC,QAAAA,SAAS,EAAE,GAAGhH,MAAH,CAAUpC,MAAV,EAAkB,kBAAlB;AADgC,OAA5B,CAfD,EAiBZ,aAAarB,KAAK,CAAC2M,aAAN,CAAoB,KAApB,EAA2B;AAC1ClC,QAAAA,SAAS,EAAE,GAAGhH,MAAH,CAAUpC,MAAV,EAAkB,oBAAlB,CAD+B;AAE1C,2BAAmB,KAAK4F,UAFkB;AAG1C8E,QAAAA,IAAI,EAAE;AAHoC,OAA3B,EAIdvB,QAJc,CAjBD,CAXwB,CAhBpB,CAApB;AAiDD;AA9GA,GA3CmB,CAAV,EA0JR,CAAC;AACH5K,IAAAA,GAAG,EAAE,0BADF;AAEH0J,IAAAA,KAAK,EAAE,SAAS8D,wBAAT,CAAkCC,KAAlC,EAAyClJ,KAAzC,EAAgD;AACrD,UAAIG,IAAI,GAAG+I,KAAK,CAAC/I,IAAjB;AAEA;AACN;AACA;;AACM,UAAIgJ,QAAQ,GAAGnJ,KAAK,CAACmJ,QAArB;AACA,aAAOA,QAAQ,KAAKhJ,IAAb,GAAoB,IAApB,GAA2B;AAChCA,QAAAA,IAAI,EAAEA,IAD0B;AAEhCgJ,QAAAA,QAAQ,EAAEhJ;AAFsB,OAAlC;AAID;AAbE,GAAD,CA1JQ,CAAZ;;AA0KA,SAAOrB,OAAP;AACD,CA7e0B,CA6ezBhD,SA7eyB,CAA3B;;AA+eA7C,eAAe,CAAC6F,OAAD,EAAU,WAAV,EAAuB3D,aAAa,CAAC;AAClD;AACF;AACA;AACA;AACE4E,EAAAA,KAAK,EAAEhE,SAAS,CAACqN,KAAV,CAAgB,CAAC,OAAD,EAAU,QAAV,EAAoB,KAApB,CAAhB,CAL2C;;AAOlD;AACF;AACA;AACA;AACEzJ,EAAAA,eAAe,EAAE5D,SAAS,CAACsN,IAXuB;;AAalD;AACF;AACA;AACEhD,EAAAA,QAAQ,EAAEtK,SAAS,CAACgN,IAhB8B;;AAkBlD;AACF;AACA;AACEzC,EAAAA,SAAS,EAAEvK,SAAS,CAACuN,MArB6B;;AAuBlD;AACF;AACA;AACEpE,EAAAA,WAAW,EAAEnJ,SAAS,CAACsN,IA1B2B;;AA4BlD;AACF;AACA;AACEvJ,EAAAA,SAAS,EAAE/D,SAAS,CAACqN,KAAV,CAAgB,CAAC,QAAD,EAAW,KAAX,EAAkB,MAAlB,EAA0B,OAA1B,CAAhB,CA/BuC;;AAiClD;AACF;AACA;AACE5C,EAAAA,SAAS,EAAEzK,SAAS,CAACsN,IApC6B;;AAsClD;AACF;AACA;AACE1C,EAAAA,QAAQ,EAAE5K,SAAS,CAACuN,MAzC8B;;AA2ClD;AACF;AACA;AACEvC,EAAAA,UAAU,EAAEhL,SAAS,CAACwN,SAAV,CAAoB,CAACxN,SAAS,CAACyN,KAAV,CAAgB;AAC/C9K,IAAAA,GAAG,EAAE3C,SAAS,CAAC0N,MADgC;AAE/ChL,IAAAA,IAAI,EAAE1C,SAAS,CAAC0N;AAF+B,GAAhB,CAAD,EAG5B1N,SAAS,CAAC2N,IAHkB,CAApB,CA9CsC;;AAmDlD;AACF;AACA;AACA;AACA;AACA;AACE/G,EAAAA,QAAQ,EAAE,CAAC1F,2BAAD,GAA+BlB,SAAS,CAAC2N,IAAzC,GAAgD1M,qBAAqB,CAACjB,SAAS,CAAC2N,IAAX,CAzD7B;;AA2DlD;AACF;AACA;AACEvJ,EAAAA,IAAI,EAAEpE,SAAS,CAACsN,IA9DkC;;AAgElD;AACF;AACA;AACA;AACEvC,EAAAA,UAAU,EAAE,SAASA,UAAT,CAAoB7H,KAApB,EAA2B0K,QAA3B,EAAqCC,aAArC,EAAoD;AAC9D,QAAI3K,KAAK,CAAC0K,QAAD,CAAL,IAAmB3E,SAAvB,EAAkC;AAChC;AACD;;AAED,QAAI6E,sBAAsB,GAAG5K,KAAK,CAAC0K,QAAD,CAAlC;;AAEA,QAAI,CAAC3N,YAAY,EAAE,aAAaH,KAAK,CAAC2M,aAAN,CAAoBqB,sBAApB,EAA4C,IAA5C,CAAf,CAAjB,EAAoF;AAClF,aAAO,IAAIC,KAAJ,CAAU,0BAA0BxK,MAA1B,CAAiCqK,QAAjC,EAA2C,iBAA3C,EAA8DrK,MAA9D,CAAqEsK,aAArE,EAAoF,sNAApF,CAAV,CAAP;AACD;AACF,GA9EiD;;AAgFlD;AACF;AACA;AACA;AACExC,EAAAA,oBAAoB,EAAErL,SAAS,CAACuN,MApFkB;;AAsFlD;AACF;AACA;AACE5C,EAAAA,QAAQ,EAAE3K,SAAS,CAACsN,IAzF8B;;AA2FlD;AACF;AACA;AACEpC,EAAAA,QAAQ,EAAElL,SAAS,CAAC0N,MA9F8B;;AAgGlD;AACF;AACA;AACErD,EAAAA,aAAa,EAAErK,SAAS,CAACuN,MAnGyB;;AAqGlD;AACF;AACA;AACEjK,EAAAA,SAAS,EAAEtD,SAAS,CAACuN,MAxG6B;;AA0GlD;AACF;AACA;AACE/C,EAAAA,gBAAgB,EAAExK,SAAS,CAACuN,MA7GsB;;AA+GlD;AACF;AACA;AACEnD,EAAAA,SAAS,EAAEpK,SAAS,CAACuN;AAlH6B,CAAD,EAmHhDvM,eAAe,CAAC;AACjB;AACF;AACA;AACE0J,EAAAA,WAAW,EAAE1K,SAAS,CAACgN,IAJN;;AAMjB;AACF;AACA;AACEnC,EAAAA,eAAe,EAAE7K,SAAS,CAACuN;AATV,CAAD,CAnHiC,CAApC,CAAf;;AA+HArQ,eAAe,CAAC6F,OAAD,EAAU,cAAV,EAA0B;AACvCiB,EAAAA,KAAK,EAAE,QADgC;AAEvCD,EAAAA,SAAS,EAAEpD,gBAF4B;AAGvC8J,EAAAA,SAAS,EAAE,IAH4B;AAIvCM,EAAAA,UAAU,EAAE1K,WAJ2B;AAKvCsK,EAAAA,QAAQ,EAAE,IAL6B;AAMvCD,EAAAA,WAAW,EAAE,IAN0B;AAOvCM,EAAAA,UAAU,EAAE5J,aAP2B;AAQvCiK,EAAAA,oBAAoB,EAAE;AARiB,CAA1B,CAAf;;AAWA,SAAStI,OAAT;AACA,eAAe,CAAC,YAAY;AAC1B,MAAIiL,UAAU,GAAG,SAASA,UAAT,CAAoB9K,KAApB,EAA2BiI,GAA3B,EAAgC;AAC/C,WAAO,aAAarL,KAAK,CAAC2M,aAAN,CAAoB1J,OAApB,EAA6BrG,QAAQ,CAAC,EAAD,EAAKwG,KAAL,EAAY;AACnEkI,MAAAA,QAAQ,EAAED;AADyD,KAAZ,CAArC,CAApB;AAGD,GAJD;;AAMA6C,EAAAA,UAAU,CAACC,WAAX,GAAyB,SAAzB;AACA,SAAO,aAAanO,KAAK,CAACkO,UAAN,CAAiBA,UAAjB,CAApB;AACD,CATc,GAAf","sourcesContent":["import _extends from \"@babel/runtime/helpers/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/objectWithoutProperties\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nvar _excluded = [\"triggerId\", \"tooltipBodyId\", \"children\", \"className\", \"triggerClassName\", \"focusTrap\", \"triggerText\", \"showIcon\", \"iconName\", \"iconDescription\", \"renderIcon\", \"menuOffset\", \"tabIndex\", \"innerRef\", \"selectorPrimaryFocus\", \"tooltipId\"];\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/**\n * Copyright IBM Corp. 2016, 2018\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { isForwardRef } from 'react-is';\nimport debounce from 'lodash.debounce';\nimport classNames from 'classnames';\nimport { Information16 as Information } from '@carbon/icons-react';\nimport { settings } from 'carbon-components';\nimport FloatingMenu, { DIRECTION_LEFT, DIRECTION_TOP, DIRECTION_RIGHT, DIRECTION_BOTTOM } from '../../internal/FloatingMenu';\nimport ClickListener from '../../internal/ClickListener';\nimport mergeRefs from '../../tools/mergeRefs';\nimport { keys, matches as keyDownMatch } from '../../internal/keyboard';\nimport isRequiredOneOf from '../../prop-types/isRequiredOneOf';\nimport requiredIfValueExists from '../../prop-types/requiredIfValueExists';\nimport { useControlledStateWithValue } from '../../internal/FeatureFlags';\nvar prefix = settings.prefix;\n/**\n * @param {Element} menuBody The menu body with the menu arrow.\n * @param {string} menuDirection Where the floating menu menu should be placed relative to the trigger button.\n * @returns {FloatingMenu~offset} The adjustment of the floating menu position, upon the position of the menu arrow.\n * @private\n */\n\nvar getMenuOffset = function getMenuOffset(menuBody, menuDirection) {\n  var _DIRECTION_LEFT$DIREC, _DIRECTION_LEFT$DIREC2;\n\n  var arrowStyle = menuBody.ownerDocument.defaultView.getComputedStyle(menuBody, ':before');\n  var arrowPositionProp = (_DIRECTION_LEFT$DIREC = {}, _defineProperty(_DIRECTION_LEFT$DIREC, DIRECTION_LEFT, 'right'), _defineProperty(_DIRECTION_LEFT$DIREC, DIRECTION_TOP, 'bottom'), _defineProperty(_DIRECTION_LEFT$DIREC, DIRECTION_RIGHT, 'left'), _defineProperty(_DIRECTION_LEFT$DIREC, DIRECTION_BOTTOM, 'top'), _DIRECTION_LEFT$DIREC)[menuDirection];\n  var menuPositionAdjustmentProp = (_DIRECTION_LEFT$DIREC2 = {}, _defineProperty(_DIRECTION_LEFT$DIREC2, DIRECTION_LEFT, 'left'), _defineProperty(_DIRECTION_LEFT$DIREC2, DIRECTION_TOP, 'top'), _defineProperty(_DIRECTION_LEFT$DIREC2, DIRECTION_RIGHT, 'left'), _defineProperty(_DIRECTION_LEFT$DIREC2, DIRECTION_BOTTOM, 'top'), _DIRECTION_LEFT$DIREC2)[menuDirection];\n  var values = [arrowPositionProp, 'border-bottom-width'].reduce(function (o, name) {\n    return _objectSpread(_objectSpread({}, o), {}, _defineProperty({}, name, Number((/^([\\d-]+)px$/.exec(arrowStyle.getPropertyValue(name)) || [])[1])));\n  }, {});\n  values[arrowPositionProp] = values[arrowPositionProp] || -6; // IE, etc.\n\n  if (Object.keys(values).every(function (name) {\n    return !isNaN(values[name]);\n  })) {\n    var arrowPosition = values[arrowPositionProp],\n        borderBottomWidth = values['border-bottom-width'];\n    return _defineProperty({\n      left: 0,\n      top: 0\n    }, menuPositionAdjustmentProp, Math.sqrt(Math.pow(borderBottomWidth, 2) * 2) - arrowPosition);\n  }\n};\n\nvar Tooltip = /*#__PURE__*/function (_Component) {\n  _inherits(Tooltip, _Component);\n\n  var _super = _createSuper(Tooltip);\n\n  function Tooltip(props) {\n    var _this;\n\n    _classCallCheck(this, Tooltip);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"_tooltipEl\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_triggerRef\", /*#__PURE__*/React.createRef());\n\n    _defineProperty(_assertThisInitialized(_this), \"_tooltipId\", _this.props.id || _this.props.tooltipId || \"__carbon-tooltip_\".concat(Math.random().toString(36).substr(2)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_tooltipDismissed\", false);\n\n    _defineProperty(_assertThisInitialized(_this), \"updateOrientation\", function (params) {\n      if (_this.props.autoOrientation) {\n        var newOrientation = _this.getBestDirection(params);\n\n        var direction = newOrientation.direction,\n            align = newOrientation.align;\n\n        if (direction !== _this.state.storedDirection) {\n          _this.setState({\n            open: false\n          }, function () {\n            _this.setState({\n              open: true,\n              storedDirection: direction\n            });\n          });\n        }\n\n        if (align === 'original') {\n          _this.setState({\n            storedAlign: _this.props.align\n          });\n        } else {\n          _this.setState({\n            storedAlign: align\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getBestDirection\", function (_ref2) {\n      var menuSize = _ref2.menuSize,\n          _ref2$refPosition = _ref2.refPosition,\n          refPosition = _ref2$refPosition === void 0 ? {} : _ref2$refPosition,\n          _ref2$offset = _ref2.offset,\n          offset = _ref2$offset === void 0 ? {} : _ref2$offset,\n          _ref2$direction = _ref2.direction,\n          direction = _ref2$direction === void 0 ? DIRECTION_BOTTOM : _ref2$direction,\n          _ref2$scrollX = _ref2.scrollX,\n          pageXOffset = _ref2$scrollX === void 0 ? 0 : _ref2$scrollX,\n          _ref2$scrollY = _ref2.scrollY,\n          pageYOffset = _ref2$scrollY === void 0 ? 0 : _ref2$scrollY,\n          container = _ref2.container;\n      var _refPosition$left = refPosition.left,\n          refLeft = _refPosition$left === void 0 ? 0 : _refPosition$left,\n          _refPosition$top = refPosition.top,\n          refTop = _refPosition$top === void 0 ? 0 : _refPosition$top,\n          _refPosition$right = refPosition.right,\n          refRight = _refPosition$right === void 0 ? 0 : _refPosition$right,\n          _refPosition$bottom = refPosition.bottom,\n          refBottom = _refPosition$bottom === void 0 ? 0 : _refPosition$bottom;\n      var scrollX = container.position !== 'static' ? 0 : pageXOffset;\n      var scrollY = container.position !== 'static' ? 0 : pageYOffset;\n      var relativeDiff = {\n        top: container.position !== 'static' ? container.rect.top : 0,\n        left: container.position !== 'static' ? container.rect.left : 0\n      };\n      var width = menuSize.width,\n          height = menuSize.height;\n      var _offset$top = offset.top,\n          top = _offset$top === void 0 ? 0 : _offset$top,\n          _offset$left = offset.left,\n          left = _offset$left === void 0 ? 0 : _offset$left;\n      var refCenterHorizontal = (refLeft + refRight) / 2;\n      var refCenterVertical = (refTop + refBottom) / 2; // Calculate whether a new direction is needed to stay in parent.\n      // It will switch the current direction to the opposite i.e.\n      // If the direction=\"top\" and the top boundary is overflowed\n      // then it switches the direction to \"bottom\".\n\n      var newDirection = function newDirection() {\n        switch (direction) {\n          case DIRECTION_LEFT:\n            return refLeft - width + scrollX - left - relativeDiff.left < 0 ? DIRECTION_RIGHT : direction;\n\n          case DIRECTION_TOP:\n            return refTop - height + scrollY - top - relativeDiff.top < 0 ? DIRECTION_BOTTOM : direction;\n\n          case DIRECTION_RIGHT:\n            return refRight + scrollX + left - relativeDiff.left + width > container.rect.width ? DIRECTION_LEFT : direction;\n\n          case DIRECTION_BOTTOM:\n            return refBottom + scrollY + top - relativeDiff.top + height > container.rect.height ? DIRECTION_TOP : direction;\n\n          default:\n            // If there is a new direction then ignore the logic above\n            return direction;\n        }\n      }; // Calculate whether a new alignment is needed to stay in parent\n      // If the direction is left or right this involves checking the\n      // overflow in the vertical direction. If the direction is top or\n      // bottom, this involves checking overflow in the horizontal direction.\n      // \"original\" is used to signify no change.\n\n\n      var newAlignment = function newAlignment() {\n        switch (direction) {\n          case DIRECTION_LEFT:\n          case DIRECTION_RIGHT:\n            if (refCenterVertical - height / 2 + scrollY + top - 9 - relativeDiff.top < 0) {\n              // If goes above the top boundary\n              return 'start';\n            } else if (refCenterVertical - height / 2 + scrollY + top - 9 - relativeDiff.top + height > container.rect.height) {\n              // If goes below the bottom boundary\n              return 'end';\n            } else {\n              // No need to change alignment\n              return 'original';\n            }\n\n          case DIRECTION_TOP:\n          case DIRECTION_BOTTOM:\n            if (refCenterHorizontal - width / 2 + scrollX + left - relativeDiff.left < 0) {\n              // If goes below the left boundary\n              return 'start';\n            } else if (refCenterHorizontal - width / 2 + scrollX + left - relativeDiff.left + width > container.rect.width) {\n              // If it goes over the right boundary\n              return 'end';\n            } else {\n              // No need to change alignment\n              return 'original';\n            }\n\n          default:\n            // No need to change alignment\n            return 'original';\n        }\n      };\n\n      return {\n        direction: newDirection(),\n        align: newAlignment()\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleUserInputOpenClose\", function (event, _ref3) {\n      var open = _ref3.open;\n\n      if (_this.isControlled && _this.props.onChange) {\n        // Callback to the parent to let them decide what to do\n        _this.props.onChange(event, {\n          open: open\n        });\n\n        return;\n      } // capture tooltip body element before it is removed from the DOM\n\n\n      var tooltipBody = _this._tooltipEl;\n\n      _this.setState({\n        open: open\n      }, function () {\n        if (_this.props.onChange) {\n          _this.props.onChange(event, {\n            open: open\n          });\n        }\n\n        if (!open && tooltipBody && tooltipBody.id === _this._tooltipId) {\n          _this._tooltipDismissed = true;\n          var currentActiveNode = event === null || event === void 0 ? void 0 : event.relatedTarget;\n\n          if (!currentActiveNode && document.activeElement === document.body && (event === null || event === void 0 ? void 0 : event.type) !== 'click') {\n            var _this$_triggerRef;\n\n            (_this$_triggerRef = _this._triggerRef) === null || _this$_triggerRef === void 0 ? void 0 : _this$_triggerRef.current.focus();\n          }\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_handleFocus\", function (state, evt) {\n      var currentTarget = evt.currentTarget,\n          relatedTarget = evt.relatedTarget;\n\n      if (currentTarget !== relatedTarget) {\n        _this._tooltipDismissed = false;\n      }\n\n      if (state === 'over') {\n        if (!_this._tooltipDismissed) {\n          _this._handleUserInputOpenClose(evt, {\n            open: true\n          });\n        }\n\n        _this._tooltipDismissed = false;\n      } else if (state !== 'out') {\n        // Note: SVGElement in IE11 does not have `.contains()`\n        var triggerEl = _this._triggerRef.current;\n\n        var shouldPreventClose = relatedTarget && (triggerEl && (triggerEl === null || triggerEl === void 0 ? void 0 : triggerEl.contains(relatedTarget)) || _this._tooltipEl && _this._tooltipEl.contains(relatedTarget));\n\n        if (!shouldPreventClose) {\n          _this._handleUserInputOpenClose(evt, {\n            open: false\n          });\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"_debouncedHandleFocus\", null);\n\n    _defineProperty(_assertThisInitialized(_this), \"_getTarget\", function () {\n      var triggerEl = _this._triggerRef.current;\n      return triggerEl && triggerEl.closest('[data-floating-menu-container]') || document.body;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouse\", function (evt) {\n      evt.persist();\n      var state = {\n        focus: 'over',\n        blur: 'out',\n        click: 'click'\n      }[evt.type];\n      var hadContextMenu = _this._hasContextMenu;\n\n      if (evt.type === 'click' || evt.type === 'contextmenu') {\n        _this._hasContextMenu = evt.type === 'contextmenu';\n      }\n\n      if (_this._hasContextMenu) {\n        _this._handleUserInputOpenClose(evt, {\n          open: false\n        });\n\n        return;\n      }\n\n      if (state === 'click') {\n        evt.preventDefault();\n        var shouldOpen = _this.isControlled ? !_this.props.open : !_this.state.open;\n\n        _this._handleUserInputOpenClose(evt, {\n          open: shouldOpen\n        });\n      } else if (state && (state !== 'out' || !hadContextMenu)) {\n        var _assertThisInitialize;\n\n        (_assertThisInitialize = _assertThisInitialized(_this)) === null || _assertThisInitialize === void 0 ? void 0 : _assertThisInitialize._debouncedHandleFocus(state, evt);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleClickOutside\", function (evt) {\n      var shouldPreventClose = evt && evt.target && _this._tooltipEl && _this._tooltipEl.contains(evt.target);\n\n      if (!shouldPreventClose && _this.state.open) {\n        _this._handleUserInputOpenClose(evt, {\n          open: false\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyPress\", function (event) {\n      if (keyDownMatch(event, [keys.Escape, keys.Tab])) {\n        event.stopPropagation();\n\n        _this._handleUserInputOpenClose(event, {\n          open: false\n        });\n      }\n\n      if (keyDownMatch(event, [keys.Enter, keys.Space])) {\n        event.stopPropagation();\n        event.preventDefault();\n        var shouldOpen = _this.isControlled ? !_this.props.open : !_this.state.open;\n\n        _this._handleUserInputOpenClose(event, {\n          open: shouldOpen\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleEscKeyPress\", function (event) {\n      var _ref4 = _this.isControlled ? _this.props : _this.state,\n          open = _ref4.open;\n\n      if (open && keyDownMatch(event, [keys.Escape])) {\n        event.stopPropagation();\n        return _this._handleUserInputOpenClose(event, {\n          open: false\n        });\n      }\n    });\n\n    _this.isControlled = props.open !== undefined;\n\n    if (useControlledStateWithValue && _this.isControlled) {\n      // Skips the logic of setting initial state if this component is controlled\n      return _possibleConstructorReturn(_this);\n    }\n\n    var _open = useControlledStateWithValue ? props.defaultOpen : props.open;\n\n    _this.state = {\n      open: _open,\n      storedDirection: props.direction,\n      storedAlign: props.align\n    };\n    return _this;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (!this._debouncedHandleFocus) {\n        this._debouncedHandleFocus = debounce(this._handleFocus, 200);\n      }\n\n      document.addEventListener('keydown', this.handleEscKeyPress, false);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      if (prevProps.direction != this.props.direction) {\n        this.setState({\n          storedDirection: this.props.direction\n        });\n      }\n\n      if (prevProps.align != this.props.align) {\n        this.setState({\n          storedAlign: this.props.align\n        });\n      }\n\n      if (prevState.open && !this.state.open) {\n        // Reset orientation when closing\n        this.setState({\n          storedDirection: this.props.direction,\n          storedAlign: this.props.align\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this._debouncedHandleFocus) {\n        this._debouncedHandleFocus.cancel();\n\n        this._debouncedHandleFocus = null;\n      }\n\n      document.removeEventListener('keydown', this.handleEscKeyPress, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames,\n          _this2 = this;\n\n      var _this$props = this.props,\n          _this$props$triggerId = _this$props.triggerId,\n          triggerId = _this$props$triggerId === void 0 ? this.triggerId = this.triggerId || \"__carbon-tooltip-trigger_\".concat(Math.random().toString(36).substr(2)) : _this$props$triggerId,\n          tooltipBodyId = _this$props.tooltipBodyId,\n          children = _this$props.children,\n          className = _this$props.className,\n          triggerClassName = _this$props.triggerClassName,\n          focusTrap = _this$props.focusTrap,\n          triggerText = _this$props.triggerText,\n          showIcon = _this$props.showIcon,\n          iconName = _this$props.iconName,\n          iconDescription = _this$props.iconDescription,\n          IconCustomElement = _this$props.renderIcon,\n          menuOffset = _this$props.menuOffset,\n          _this$props$tabIndex = _this$props.tabIndex,\n          tabIndex = _this$props$tabIndex === void 0 ? 0 : _this$props$tabIndex,\n          ref = _this$props.innerRef,\n          selectorPrimaryFocus = _this$props.selectorPrimaryFocus,\n          tooltipId = _this$props.tooltipId,\n          other = _objectWithoutProperties(_this$props, _excluded);\n\n      var _ref5 = this.isControlled ? this.props : this.state,\n          open = _ref5.open;\n\n      var _this$state = this.state,\n          storedDirection = _this$state.storedDirection,\n          storedAlign = _this$state.storedAlign;\n      var tooltipClasses = classNames(\"\".concat(prefix, \"--tooltip\"), (_classNames = {}, _defineProperty(_classNames, \"\".concat(prefix, \"--tooltip--shown\"), open), _defineProperty(_classNames, \"\".concat(prefix, \"--tooltip--\").concat(storedDirection), storedDirection), _defineProperty(_classNames, \"\".concat(prefix, \"--tooltip--align-\").concat(storedAlign), storedAlign), _classNames), className);\n      var triggerClasses = classNames(\"\".concat(prefix, \"--tooltip__label\"), triggerClassName);\n      var refProp = mergeRefs(this._triggerRef, ref);\n      var iconProperties = {\n        name: iconName,\n        role: null,\n        description: null\n      };\n\n      var properties = _objectSpread({\n        role: 'button',\n        tabIndex: tabIndex,\n        onClick: this.handleMouse,\n        onContextMenu: this.handleMouse,\n        onKeyDown: this.handleKeyPress,\n        onMouseOver: this.handleMouse,\n        onMouseOut: this.handleMouse,\n        onFocus: this.handleMouse,\n        onBlur: this.handleMouse,\n        'aria-controls': !open ? undefined : this._tooltipId,\n        'aria-expanded': open,\n        'aria-describedby': open ? this._tooltipId : null\n      }, triggerText ? {\n        'aria-labelledby': triggerId\n      } : {\n        'aria-label': iconDescription\n      });\n\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ClickListener, {\n        onClickOutside: this.handleClickOutside\n      }, showIcon ? /*#__PURE__*/React.createElement(\"div\", {\n        id: triggerId,\n        className: triggerClasses\n      }, triggerText, /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: \"\".concat(prefix, \"--tooltip__trigger\")\n      }, properties, {\n        ref: refProp,\n        \"aria-describedby\": tooltipBodyId\n      }), /*#__PURE__*/React.createElement(IconCustomElement, iconProperties))) : /*#__PURE__*/React.createElement(\"div\", _extends({\n        id: triggerId,\n        className: triggerClasses,\n        ref: refProp\n      }, properties, {\n        \"aria-describedby\": tooltipBodyId\n      }), triggerText)), open && /*#__PURE__*/React.createElement(FloatingMenu, {\n        focusTrap: focusTrap,\n        selectorPrimaryFocus: this.props.selectorPrimaryFocus,\n        target: this._getTarget,\n        triggerRef: this._triggerRef,\n        menuDirection: storedDirection,\n        menuOffset: menuOffset,\n        menuRef: function menuRef(node) {\n          _this2._tooltipEl = node;\n        },\n        updateOrientation: this.updateOrientation\n      }, /*#__PURE__*/React.createElement(\"div\", _extends({\n        className: tooltipClasses,\n        onKeyDown: function onKeyDown(event) {\n          if (keyDownMatch(event, [keys.Escape])) {\n            event.stopPropagation();\n          }\n        }\n      }, other, {\n        id: this._tooltipId,\n        \"data-floating-menu-direction\": storedDirection,\n        onMouseOver: this.handleMouse,\n        onMouseOut: this.handleMouse,\n        onFocus: this.handleMouse,\n        onBlur: this.handleMouse,\n        onContextMenu: this.handleMouse\n      }), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"\".concat(prefix, \"--tooltip__caret\")\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"\".concat(prefix, \"--tooltip__content\"),\n        \"aria-labelledby\": this._tooltipId,\n        role: \"dialog\"\n      }, children))));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(_ref6, state) {\n      var open = _ref6.open;\n\n      /**\n       * so that tooltip can be controlled programmatically through this `open` prop\n       */\n      var prevOpen = state.prevOpen;\n      return prevOpen === open ? null : {\n        open: open,\n        prevOpen: open\n      };\n    }\n  }]);\n\n  return Tooltip;\n}(Component);\n\n_defineProperty(Tooltip, \"propTypes\", _objectSpread({\n  /**\n   * Specify the alignment (to the trigger button) of the tooltip.\n   * Can be one of: start, center, or end.\n   */\n  align: PropTypes.oneOf(['start', 'center', 'end']),\n\n  /**\n   * Whether or not to re-orientate the tooltip if it goes outside,\n   * of the bounds of the parent.\n   */\n  autoOrientation: PropTypes.bool,\n\n  /**\n   * Contents to put into the tooltip.\n   */\n  children: PropTypes.node,\n\n  /**\n   * The CSS class names of the tooltip.\n   */\n  className: PropTypes.string,\n\n  /**\n   * Optional starting value for uncontrolled state\n   */\n  defaultOpen: PropTypes.bool,\n\n  /**\n   * Where to put the tooltip, relative to the trigger UI.\n   */\n  direction: PropTypes.oneOf(['bottom', 'top', 'left', 'right']),\n\n  /**\n   * Enable or disable focus trap behavior\n   */\n  focusTrap: PropTypes.bool,\n\n  /**\n   * The name of the default tooltip icon.\n   */\n  iconName: PropTypes.string,\n\n  /**\n   * The adjustment of the tooltip position.\n   */\n  menuOffset: PropTypes.oneOfType([PropTypes.shape({\n    top: PropTypes.number,\n    left: PropTypes.number\n  }), PropTypes.func]),\n\n  /**\n   * * the signature of the event handler will be:\n   * * `onChange(event, { open })` where:\n   *   * `event` is the (React) raw event\n   *   * `open` is the new value\n   */\n  onChange: !useControlledStateWithValue ? PropTypes.func : requiredIfValueExists(PropTypes.func),\n\n  /**\n   * Open/closed state.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * The callback function to optionally render the icon element.\n   * It should be a component with React.forwardRef().\n   */\n  renderIcon: function renderIcon(props, propName, componentName) {\n    if (props[propName] == undefined) {\n      return;\n    }\n\n    var RefForwardingComponent = props[propName];\n\n    if (!isForwardRef( /*#__PURE__*/React.createElement(RefForwardingComponent, null))) {\n      return new Error(\"Invalid value of prop '\".concat(propName, \"' supplied to '\").concat(componentName, \"',\\n                          it should be created/wrapped with React.forwardRef() to have a ref and access the proper\\n                          DOM node of the element to calculate its position in the viewport.\"));\n    }\n  },\n\n  /**\n   * Specify a CSS selector that matches the DOM element that should\n   * be focused when the Tooltip opens\n   */\n  selectorPrimaryFocus: PropTypes.string,\n\n  /**\n   * `true` to show the default tooltip icon.\n   */\n  showIcon: PropTypes.bool,\n\n  /**\n   * Optional prop to specify the tabIndex of the Tooltip\n   */\n  tabIndex: PropTypes.number,\n\n  /**\n   * The ID of the tooltip body content.\n   */\n  tooltipBodyId: PropTypes.string,\n\n  /**\n   * The ID of the tooltip content.\n   */\n  tooltipId: PropTypes.string,\n\n  /**\n   * The CSS class names of the trigger UI.\n   */\n  triggerClassName: PropTypes.string,\n\n  /**\n   * The ID of the trigger button.\n   */\n  triggerId: PropTypes.string\n}, isRequiredOneOf({\n  /**\n   * The content to put into the trigger UI, except the (default) tooltip icon.\n   */\n  triggerText: PropTypes.node,\n\n  /**\n   * The description of the default tooltip icon, to be put in its SVG 'aria-label' and 'alt' .\n   */\n  iconDescription: PropTypes.string\n})));\n\n_defineProperty(Tooltip, \"defaultProps\", {\n  align: 'center',\n  direction: DIRECTION_BOTTOM,\n  focusTrap: true,\n  renderIcon: Information,\n  showIcon: true,\n  triggerText: null,\n  menuOffset: getMenuOffset,\n  selectorPrimaryFocus: '[data-tooltip-primary-focus]'\n});\n\nexport { Tooltip };\nexport default (function () {\n  var forwardRef = function forwardRef(props, ref) {\n    return /*#__PURE__*/React.createElement(Tooltip, _extends({}, props, {\n      innerRef: ref\n    }));\n  };\n\n  forwardRef.displayName = 'Tooltip';\n  return /*#__PURE__*/React.forwardRef(forwardRef);\n})();"]},"metadata":{},"sourceType":"module"}